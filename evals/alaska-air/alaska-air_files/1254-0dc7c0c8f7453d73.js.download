(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1254],{66166:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});var r=n(67294),a=(0,r.createContext)(void 0),i=function(){return(0,r.useContext)(a)}},78041:function(e){function t(){}e.exports=t,e.exports.HttpsAgent=t},11752:function(e,t,n){e.exports=n(61224)},63144:function(e){"use strict";let t=self.fetch.bind(self);e.exports=t,e.exports.default=e.exports},84128:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(85893),a=n(67294),i=n(27247),o=n(9008),l=n.n(o),s=n(45697),c=n.n(s),d=n(91353),u=n(48023),g=n.n(u),p=n(30546),_=n(31446),f=n.n(_);let h=({textColor:e})=>(0,r.jsx)("div",{className:f().loadingContainer,children:(0,r.jsxs)("svg",{className:`${f().PlaneLoader} svg-${e}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 31.36 32.02",children:[(0,r.jsx)("title",{children:"Plane_White-rotated"}),(0,r.jsx)("g",{id:"Layer_1-2","data-name":"Layer 1-2",children:(0,r.jsx)("g",{id:"Boeing_Nose_Plane_Icon","data-name":"Boeing Nose Plane Icon",children:(0,r.jsx)("g",{id:"Boeing_Nose_Plane_Icon-2","data-name":"Boeing Nose Plane Icon-2",children:(0,r.jsx)("g",{id:"Boeing_Nose_Plane_Icon-3","data-name":"Boeing Nose Plane Icon-3",children:(0,r.jsx)("g",{id:"Plane_Midnight","data-name":"Plane Midnight",children:(0,r.jsx)("path",{d:"M4.46,17.63l10.2.14L8.58,31.69l3.33-.15L22.16,17.86l5.67.09c1.05,0,3.85-.64,3.85-1.92s-2.8-2-3.85-2c-.35,0-2.1,0-5.64.09L11.89.45,8.56.33l6.12,14-10.22.16L1.75,10.83-.32,10.7,1.06,16l-1.38,5.3,2.09-.13Z",transform:"translate(0.32 -0.33)"})})})})})})]})});h.propTypes={textColor:c().string};var m=n(51680),x=n.n(m);let y=({textColor:e})=>(0,r.jsx)("div",{className:x().loadingContainer,children:(0,r.jsxs)("svg",{className:`${x().CloudLoader} svg-${e}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 72.36",children:[(0,r.jsx)("title",{children:"Cloud"}),(0,r.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:(0,r.jsx)("g",{id:"Layer_1-2","data-name":"Layer 1",children:(0,r.jsx)("path",{className:"cls-1",d:"M74.25,20.11a26.13,26.13,0,0,0-51.56,6h0a23.11,23.11,0,0,0,.43,46.22H73.87a26.13,26.13,0,0,0,.38-52.25Z"})})})]})});y.propTypes={textColor:c().string};var L=n(3472),w=n(11752),C=n.n(w),j=n(66166);let{publicRuntimeConfig:v}=C()(),P=()=>{},T=(0,a.createContext)({price:0,airport:"",allAirports:"",btnUrl:"",textColor:"",onClickTracking:P}),$=({displayPrice:e="",geoTargetedAreas:t,excludeSaleCodes:n="",includeSaleCodes:i="",includeODPairs:o="",excludeODPairs:l="",btnUrl:s="",textColor:c="",onClickTracking:u=P,children:g,assetUrl:p=""})=>{let _=(0,j.u)(),{NearestAlaskaDestination:f}=(0,a.useContext)(L.Z)||{},h=f?.Code,[m,x]=(0,a.useState)(null),[y,w]=(0,a.useState)(""),[C,v]=(0,a.useState)("");return(0,a.useEffect)(()=>{if("1"!==e)return;let r=[];t?.length>0&&(r=t),h&&r.push({airport_code:h}),(async()=>{try{let e=await (0,d.S)({geoTargetedAreas:r,includeSaleCodes:i,excludeSaleCodes:n,includeODPairs:o,excludeODPairs:l,assetUrl:p});x(e.price),v(e.allAirports),e.airportSpecific&&w(e.airportCode)}catch(e){x("XX"),v("details.allAirports"),_?.trackException({exception:e,properties:{apiCall:"getLowestFare",geoTargetedAreas:t,includeSaleCodes:i,excludeSaleCodes:n,includeODPairs:o,excludeODPairs:l,assetUrl:p}})}})()},[e,i,n,t,h,p,o,l,_,f?.Code]),(0,r.jsx)(T.Provider,{value:{price:m,airport:y,allAirports:C,btnUrl:s,textColor:c,onClickTracking:u},children:g})};$.propTypes={displayPrice:c().string,excludeSaleCodes:c().string,geoTargetedAreas:c().array,includeSaleCodes:c().string,btnUrl:c().string,textColor:c().string,children:c().node,assetUrl:c().string,includeODPairs:c().string,excludeODPairs:c().string};let b=({children:e})=>{let{btnUrl:t,allAirports:n,onClickTracking:i}=(0,a.useContext)(T);if(!t)return e;let o=`${t}${n?t.includes("?")?`&o=${n}`:`?o=${n}`:""}`;return(0,r.jsx)("a",{className:g().noLinkStyle,href:o,onClick:i,children:e})};b.propTypes={children:c().node};let D=({offerText:e})=>{let{textColor:t}=(0,a.useContext)(T);return e?(0,r.jsx)(b,{children:(0,r.jsx)(i.Z,{className:`${g().LowestFlightDeal__OfferText} ${t}`,children:e})}):null};D.propTypes={offerText:c().string};let F=({loadingImage:e,displayPrice:t})=>{let{price:n,airport:i,textColor:o}=(0,a.useContext)(T);return"1"!==t||n&&"XX"===n.toString()?null:!n||n<=0?(0,r.jsx)(b,{children:"Plane"===e?(0,r.jsx)(h,{textColor:o}):(0,r.jsx)(y,{textColor:o})}):(0,r.jsx)(b,{children:(0,r.jsxs)("div",{className:`${g().LowestFlightDeal__Offer} ${o}`,children:[(0,r.jsx)("span",{className:g().LowestFlightDeal__OfferDollarSign,children:"$"}),(0,r.jsx)("span",{className:g().LowestFlightDeal__OfferPrice,children:n}),(0,r.jsxs)("span",{className:g().LowestFlightDeal__OfferFlightType,children:["one way ",i?`from ${i}`:"","*"]})]})})};F.propTypes={displayPrice:c().string,loadingImage:c().string};let k=({loadingImage:e,displayPrice:t,offerText:n})=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(D,{offerText:n}),(0,r.jsx)(F,{loadingImage:e,displayPrice:t})]});k.propTypes={...D.propTypes,...F.propTypes};let O=({disclaimerLinkText:e,disclaimerTarget:t,disclaimerUrl:n})=>{let{textColor:i}=(0,a.useContext)(T);return e?(0,r.jsx)("auro-hyperlink",{target:t,href:n,nav:!0,children:(0,r.jsx)("span",{className:`${g().LowestFlightDeal__DisclaimerLink} ${i}`,children:e})}):null};O.propTypes={disclaimerLinkText:c().string,disclaimerTarget:c().string,disclaimerUrl:c().string};let E=({btnUrl:e,btnTarget:t,btnType:n,btnText:i})=>{let{allAirports:o,onClickTracking:l}=(0,a.useContext)(T);if(!(e&&i))return null;let s=`${e}${o?e.includes("?")?`&o=${o}`:`?o=${o}`:""}`;return(0,r.jsx)(r.Fragment,{children:"tertiary"===n?(0,r.jsx)("auro-hyperlink",{nav:!0,href:s,target:t,onClick:l,children:i}):(0,r.jsx)("auro-hyperlink",{href:s,target:t,type:"cta",cta:!0,secondary:"secondary"===n,onClick:l,children:i})})};E.propTypes={btnUrl:c().string,btnTarget:c().string,btnType:c().string,btnText:c().string};let N=({btnTarget:e="",btnText:t="",btnUrl:n="",btnType:i="secondary",disclaimerLinkText:o="",disclaimerUrl:s="",disclaimerTarget:c="",displayPrice:d="",excludeSaleCodes:u="",geoTargetedAreas:g,includeSaleCodes:_="",offerText:f="",onClickTracking:h=P,loadingImage:m="",textColor:x="",assetUrl:y="",includeODPairs:L="",excludeODPairs:w=""})=>((0,a.useEffect)(()=>{(0,p.ZP)("hyperlink")},[]),(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("link",{rel:"preconnect",href:v.geoserviceEndpoint},"GEOSERVICE_ENDPOINT")}),(0,r.jsxs)($,{displayPrice:d,excludeSaleCodes:u,geoTargetedAreas:g,includeSaleCodes:_,btnUrl:n,textColor:x,onClickTracking:h,assetUrl:y,includeODPairs:L,excludeODPairs:w,children:[(0,r.jsx)(k,{offerText:f,displayPrice:d,loadingImage:m}),(0,r.jsx)(E,{btnUrl:n,btnTarget:e,btnType:i,btnText:t}),(0,r.jsx)(O,{disclaimerLinkText:o,disclaimerTarget:c,disclaimerUrl:s})]})]}));N.propTypes={...$.propTypes,...F.propTypes,...E.propTypes,...O.propTypes},N.Wrapper=$,N.DealCTAButton=E,N.Offer=k,N.DisclaimerInfo=O;var S=N},27247:function(e,t,n){"use strict";var r=n(67294),a=n(45697),i=n.n(a),o=n(30546);let l=(e,t)=>{let n;let r=[];for(;n=e.exec(t);)r.push(n);return r},s=({children:e="",tag:t="div",...n})=>{(0,r.useEffect)(()=>{(0,o.ZP)(...[...l(/<auro-([a-z\-]+)/g,e)].map(e=>e[1]))},[e]);let a=(0,r.useMemo)(()=>"string"!=typeof e?null:e.replace(/(["'])[^"'~-]*([~-]\/media)/g,"$1/$2"),[e]);return(0,r.createElement)(t,{...n,dangerouslySetInnerHTML:{__html:a}})};s.propTypes={children:i().string,tag:i().any},t.Z=s},51890:function(e,t,n){"use strict";n.d(t,{Bd:function(){return l},FQ:function(){return i},XA:function(){return o}});var r=n(11752);let{publicRuntimeConfig:a}=n.n(r)()(),i=e=>new Promise((t,n)=>{let r=document.createElement("script");r.src=e,r.type="module",r.onload=()=>{t()},r.onerror=()=>{n()},document.body.appendChild(r)}),o=e=>new Promise((t,n)=>{let r=document.createElement("script");r.src=e,r.onload=()=>{t()},r.onerror=()=>{n()},document.body.appendChild(r)}),l=async(e,t=()=>{})=>{if(!e)return;let n=document.createElement("div");n.innerHTML=e;let r=n.getElementsByTagName("script"),i=[];for(let e=r.length-1;e>=0;e--){let t=r[e],n=document.createElement("script");t.src&&(n.src=t.src.replace(/https?:\/\/(www\.)?alaskaair\.com/,a.cdnEndpoint)),t.type&&(n.type=t.type),t.innerHTML&&(n.innerHTML=t.innerHTML),i.unshift(n),t.parentNode.removeChild(t)}await t(n.innerHTML);let l=async e=>{e.src?await o(e.src):document.body.appendChild(e)};await Promise.all(i.map(l))}},9563:function(e,t,n){"use strict";let{HttpsAgent:r}=n(78041),a=n(63144),i=new r({maxSockets:40,maxFreeSockets:10,timeout:6e4,freeSocketTimeout:3e4});e.exports={fetchSafely:(e,t={})=>a(e,{agent:i,...t})}},91353:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(9563),a=n(11752),i=n.n(a),o=n(68560);let{publicRuntimeConfig:l}=i()();async function s({geoTargetedAreas:e,includeSaleCodes:t="",excludeSaleCodes:n="",includeODPairs:a="",excludeODPairs:i="",assetUrl:s=""}){let c;let d=(c=[],e&&Array.isArray(e)&&(c=e.map(e=>e.airport_code)),{airports:c,cities:[],states:[],countries:[],continent:[],tags:[]}),u=await (0,r.fetchSafely)(`${l.basePath||"/"}api/getLowestDealForAirport?${(0,o.a)({...d,assetUrl:s,includeSaleCodes:t,excludeSaleCodes:n,includeODPairs:a,excludeODPairs:i})}`,{headers:{environment:`${l.contentstackEnv}`}}).then(e=>{if(!e.ok)throw Error("Deals fetch failed");return e.text()}).then(e=>JSON.parse(e)).catch(e=>({error:e}));if(u.error)throw u.error;return u}},30546:function(e,t,n){"use strict";let r,a;n.d(t,{ZP:function(){return x},_h:function(){return m},gc:function(){return f}});var i=n(51890),o=n(11752),l=n.n(o),s=n(9563);let{publicRuntimeConfig:c}=l()(),d={},u={},g=()=>(((function(){let e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){let t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}let n=e.indexOf("Edge/");return n>0&&parseInt(e.substring(n+5,e.indexOf(".",n)),10)})()||/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&!r&&(r=(0,i.XA)("https://unpkg.com/@webcomponents/webcomponentsjs@2.4.3/webcomponents-bundle.js")),r),p=()=>{if(!a){let e=document.createElement("link");e.rel="stylesheet",e.href=`${c.componentHangerCdnEndpoint}/components/shared/component-base.css`,document.body.appendChild(e),a=(0,i.XA)(`${c.componentHangerCdnEndpoint}/components/shared/component-base.js`)}return a},_=async()=>(0,s.fetchSafely)(`${c.basePath||"/"}api/getAuroComponentsVersion`).then(e=>{if(!e.ok)throw Error("Failed to retrieve Auro components versions");return e.json()}).catch(()=>null),f=async(...e)=>{if(!e.length)return;await g();let t=await h();for(let n of e){if(!n)continue;let e=t?t.find(e=>e.displayName===n):{},r=e&&e.endpoint&&e.endpoint.value?e.endpoint.value:"https://unpkg.com",a=e&&e.version&&e.version.value?e.version.value:"latest",o=n.split("-",1),l=e&&e.location&&e.location.value?e.location.value:"alaskaair".concat(o);if(!u[n]){let e=[(0,i.FQ)(`${r}/@${l}/${n}@${a}/dist/${n}__bundled.js`)];u[n]=Promise.all(e)}}for(let t of(await Promise.all(Object.values(u)).catch(()=>{}),e))t&&document.body.classList.add(`${t}-loaded`)},h=async()=>(0,s.fetchSafely)(`${c.BASE_PATH||"/"}api/getJaclComponentsVersion`).then(e=>{if(!e.ok)throw Error("Failed to retrieve JACL components versions");return e.json()}).catch(()=>null),m=async(...e)=>{if(e.length){for(let t of(await p(),e))t&&!d[t]&&(d[t]=(0,i.XA)(`${c.COMPONENT_HANGAR_CDN_ENDPOINT}/components/${t}/main.js`));for(let t of(await Promise.all(Object.values(d)),e))t&&document.body.classList.add(`${t}-loaded`)}};var x=async(...e)=>{if(!e.length)return;await g();let t=await _();for(let n of e){if(!n)continue;let e="auro-".concat(n),r=t?t.find(t=>t.displayName===e):{},a=r?.location?.value,o="";o="auro"===a?c.auroEndpoint:"auro-labs"===a?c.auroLabsEndpoint:c.auroDesignSystemEndpoint;let l=r?.version?.value||"latest",s=r?.group?.value||e,u=r?.files?.value?.split(",")||[];if(!d[e]){let t=`${o}/${s}@${l}/dist/${e}__bundled.js`,n=[(0,i.FQ)(t)];u.forEach(e=>n.push((0,i.FQ)(`${o}/${s}@${l}/dist/${e.trim()}`))),d[e]=Promise.all(n)}}for(let t of(await Promise.all(Object.values(d)).catch(()=>{}),e))t&&document.body.classList.add(`auro-${t}-loaded`)}},68560:function(e,t,n){"use strict";n.d(t,{a:function(){return a},j:function(){return r}});let r=e=>{if(!e)return!1;let t=!1;try{t=new URL(e) instanceof URL}catch(e){t=!1}if(!t)try{let n=new URL(document.location);t=new URL(e,n.origin) instanceof URL}catch(e){t=!1}return t};function a(e){let t=[];for(let[n,r]of Object.entries(e))r&&r.length>0&&t.push(`${n}=${r}`);return t.join("&")}},85214:function(e){"use strict";e.exports={conditionalStyle:(e,t,n)=>n?`${e}: ${"function"==typeof t?t():t};`:"",conditionalClasses:(e="",t={})=>Object.keys(t).filter(e=>t[e]).concat(e).join(" ")}},48023:function(e){e.exports={LowestFlightDeal__OfferText:"LowestFlightDeal_LowestFlightDeal__OfferText__bPWIN",h1:"LowestFlightDeal_h1__7yoG9",h2:"LowestFlightDeal_h2__mB80a",h3:"LowestFlightDeal_h3___kpZh",h4:"LowestFlightDeal_h4__t96B7",h5:"LowestFlightDeal_h5___P_49",h6:"LowestFlightDeal_h6__z1jza",LowestFlightDeal__Offer:"LowestFlightDeal_LowestFlightDeal__Offer__aUVmz",fadeInPrice:"LowestFlightDeal_fadeInPrice___uqqq",LowestFlightDeal__OfferDollarSign:"LowestFlightDeal_LowestFlightDeal__OfferDollarSign__x_gE0",LowestFlightDeal__OfferPrice:"LowestFlightDeal_LowestFlightDeal__OfferPrice__ZenJW",LowestFlightDeal__OfferFlightType:"LowestFlightDeal_LowestFlightDeal__OfferFlightType__B7_tJ",LowestFlightDeal__DisclaimerLink:"LowestFlightDeal_LowestFlightDeal__DisclaimerLink__Gy6PP",noLinkStyle:"LowestFlightDeal_noLinkStyle__xPA6X"}},51680:function(e){e.exports={black:"LoadingCloud_black__X0yG5",white:"LoadingCloud_white__gJOqN","dark-gray":"LoadingCloud_dark-gray__YifPf",gray:"LoadingCloud_gray__lr6BN",blue:"LoadingCloud_blue__WjMCW","bright-blue":"LoadingCloud_bright-blue__aBOMX","light-gray":"LoadingCloud_light-gray___tZFV",pink:"LoadingCloud_pink__y_4hd",red:"LoadingCloud_red__Bx8An",loadingContainer:"LoadingCloud_loadingContainer__wKM_0",CloudLoader:"LoadingCloud_CloudLoader__yRJ_Z",loadingCloud:"LoadingCloud_loadingCloud__YT0yf"}},31446:function(e){e.exports={loadingContainer:"LoadingPlane_loadingContainer__USZEG",PlaneLoader:"LoadingPlane_PlaneLoader__ZHxai",loadingPlane:"LoadingPlane_loadingPlane__12sLU"}}}]);