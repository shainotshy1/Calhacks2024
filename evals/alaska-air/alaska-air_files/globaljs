function TagUtil(n){var t=this;t.location=n?n:window.location;this.isPage_BookingConfirm=function(){return this.pathStartsWith("//www.alaskaair.com/booking/payment")||this.pathStartsWith("//alaskaair.convertlanguage.com/alaskaair/enes/booking/payment")};this.isPage_EasybizSignupConfirm=function(){return this.pathStartsWith("//easybiz.alaskaair.com/Enrollment/WelcomeConfirm")};this.isPage_MileagePlanSignupConfirm=function(){return this.pathStartsWith("//www.alaskaair.com/www2/ssl/myalaskaair/MyAlaskaAir.aspx?isNewMember=true")||this.pathStartsWith("//alaskaair.convertlanguage.com/alaskaair/enes/www2/ssl/myalaskaair/MyAlaskaAir.aspx?isNewMember=true")};this.pathStartsWith=function(n){return t.isTesting||t.startsWith(t.location.href.replace(t.location.protocol,"").toLowerCase(),n.toLowerCase())};t.isPage_Home=function(){return t.isPath("//www.alaskaair.com/")||t.isPath("//alaskaair.convertlanguage.com/alaskaair/enes")};t.isPage_Loyalty=function(){return(t.isPath("//www.alaskaair.com/www2/ssl/myalaskaair/myalaskaair.aspx?CurrentForm=UCSignInStart",!0)||t.isPath("//alaskaair.convertlanguage.com/alaskaair/enes/www2/ssl/myalaskaair/myalaskaair.aspx?CurrentForm=UCSignInStart",!0))&&as.Page&&as.Page.pageid!="UCSignInStart"||t.isPath("//www.alaskaair.com/www2/ssl/myalaskaair/myalaskaair.aspx",!0)||t.isPath("//alaskaair.convertlanguage.com/alaskaair/enes/www2/ssl/myalaskaair/myalaskaair.aspx",!0)};t.isPage_Loyalty_Booking=function(){return t.isPath("//www.alaskaair.com/Booking/SignIn")||t.isPath("//alaskaair.convertlanguage.com/alaskaair/enes/Booking/SignIn")};t.isPage_ShoppingPath_Flight=function(){return t.isPath("//www.alaskaair.com/Shopping/Flights/Shop")||t.isPath("//www.alaskaair.com/Shopping/Flights/Price")||t.isPath("//www.alaskaair.com/Shopping/Flights/Calendar")||t.isPath("//alaskaair.convertlanguage.com/alaskaair/enes/Shopping/Flights/Shop")||t.isPath("//alaskaair.convertlanguage.com/alaskaair/enes/Shopping/Flights/Price")||t.isPath("//alaskaair.convertlanguage.com/alaskaair/enes/Shopping/Flights/Calendar")};t.isPage_ShoppingPath_Cart_Flight=function(){return t.isPath("//www.alaskaair.com/Shopping/Cart/AddFlight")||t.isPath("//alaskaair.convertlanguage.com/alaskaair/enes/Shopping/Cart/AddFlight")};t.isPage_ShoppingPath_Confirmation=function(){return t.isPath("//www.alaskaair.com/booking/payment")||t.isPath("//alaskaair.convertlanguage.com/alaskaair/enes/booking/payment")};t.isPath=function(n,i){return i?t.isTesting||("//"+t.location.hostname+t.location.pathname+t.location.search).toLowerCase()==n.toLowerCase():t.isTesting||("//"+t.location.hostname+t.location.pathname).toLowerCase()==n.toLowerCase()};this.startsWith=function(n,t){return t.length>0&&n.substring(0,t.length)===t};this.insertImgBasedOnHttps=function(n,i){t.location.protocol=="https:"?t.insertImg(n):t.insertImg(i)};this.insertImg=function(n){var t=document.createElement("img");t.setAttribute("alt","");t.setAttribute("height","1");t.setAttribute("width","1");t.setAttribute("style","display: none;");t.setAttribute("src",n);document.body.appendChild(t)}}function IsEnterKey(n){var t=!1;return GetKeyCode(n)==KeyCodeEnter&&(t=!0),t}function GetKeyCode(n){return n.keyCode?n.keyCode:n.which?n.which:n.charCode}function SetDomainVariables(){function n(){var n=window.location.hostname.replace("www.","");try{document.domain=n;asglobal.domain=n}catch(t){}}function t(){function n(n){var t="www.alaskaair.com",i="http://",r="https://";return n!=null&&n!=""&&(n.indexOf(i)==0?t=n.replace(i,""):n.indexOf(r)==0?t=n.replace(r,""):document.domain!=n.replace("www.","")&&document.location.hostname==n&&(t=n)),t}function t(){var r="www.alaskaair.com",u="easybiz.alaskaair.com",i="alaskaair.convertlanguage.com/alaskaair/enes",n="",f=$("#aslogo a"),t;return f.length>0?(t=f.eq(0).attr("href").toLowerCase(),n=t.indexOf(r)>-1?r:t.indexOf(u)>-1?u:t.indexOf(i)>-1?i:t.split("?")[0],asglobal.logoUrl=t):window.location.toString().indexOf(i)>-1&&(n=i+"/"),(n==null||n=="")&&(n=r),asglobal.homePageUrl=n,n}asglobal.domainUrl=n(t())}t();asglobal.domainIsSet!=null&&asglobal.domainIsSet==!1&&n()}function getVersion(n){var t=window.navigator.userAgent,i=t.search(n),r;return r=n==="MSIE"?t.indexOf(" ",i):t.indexOf("/",i),t.substring(r+1,t.indexOf(".",i))}function createCookie(n,t,i){var r,u;i?(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString()):u="";document.cookie=n+"="+t+u+"; path=/"}function readCookie(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null}function TopNav(){function t(){location.hostname.toString()=="alaskaair.convertlanguage.com"&&($("#enEspanol")&&$("#enEspanol").css("display","none"),$("#english")&&$("#english").css("display","block"))}var n=this;this.init=function(){t()};this.jumpToSpanishUrl=function(){location.href=n.toSpanishUrl(location.href)};this.jumpToEnglishUrl=function(){location.href=n.toEnglishUrl(location.href)};this.toEnglishUrl=function(n){return n?n.replace("//alaskaair.convertlanguage.com/alaskaair/enes","//www.alaskaair.com"):"http://www.alaskaair.com"};this.toSpanishUrl=function(n){return n?n.replace("//www.alaskaair.com","//alaskaair.convertlanguage.com/alaskaair/enes"):"http://alaskaair.convertlanguage.com/alaskaair/enes"}}function BoxDropDown(n,t,i,r){var s=this,e=n,h=i,u=t,f=r,o="myAccountLabelWhiteBoxVisible";this.initForClick=function(){$("#"+u).length&&$("#"+u).click(function(){s.toggle()});$("#"+e).length&&$("#"+e).click(function(n){n.stopPropagation()});$(document).click(function(){s.close()});$("#myAccoutnSignInButton").length&&$("#myAccoutnSignInButton").click(function(){$("#greyInterstitialCover").length&&$("#greyInterstitialCover").css("display","block")})};this.initForHover=function(){$("#"+e).length&&$("#"+e).hover(function(){s.toggle()})};this.toggle=function(){var n=$("#"+h).css("display");n=="block"?(n="none",$("#"+f).length&&$("#"+f).html("&#x25ba;&nbsp;")):(n="block",$("#"+f).length&&$("#"+f).html("&#x25bc;&nbsp;"),$("#greyInterstitialCover").length&&$("#greyInterstitialCover").css("display","none"));$("#"+h).css("display",n);$("#"+u).hasClass(o)?$("#"+u).removeClass(o):($("#"+u).addClass(o),$("#UserId").focus())};this.close=function(){$("#"+h).css("display","none");$("#"+f).length&&$("#"+f).html("&#x25ba;&nbsp;");$("#"+u).removeClass(o)}}function Authentication(){function t(n,t,i){var r=new Date,u;r.setDate(r.getDate()+i);u=escape(t)+(i==null?"":"; path=/; expires="+r.toUTCString());document.cookie=n+"="+u}function n(n,t,i,r){var u=screen.width/2-i/2,f=screen.height/2-r/2,e="toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+i+", height="+r+", top="+f+", left="+u,o=open(n,t,e)}this.init=function(){$("#myAccount").length?new BoxDropDown("myAccount","myAccountLabel","myAccountDropDownDiv","myAccountArrow").initForClick():$("#myAccountMenu").length&&new BoxDropDown("myAccountMenu","myAccountLabel","myAccountDropDownDiv",null).initForHover();t("ASDBD","J1C1",1)};this.forgotUserId=function(t){n(t,"forgotuserid","475","425")};this.forgotPassword=function(t){n(t,"forgotpassword","475","425")}}function VisitorRepository(){function r(n){return i(n,"MemberMpBalance=",";","")}function u(n,t){for(prop in t)t.hasOwnProperty(prop)&&n.hasOwnProperty(prop)&&(n[prop]=t[prop])}function f(n){return t(n,"AS_dest=")}function e(){return typeof Storage!="undefined"?sessionStorage.getItem("countryStateCodes")===null?null:sessionStorage.getItem("countryStateCodes").toLowerCase():""}function o(n){var i=t(n,"AS_mbr=");return i.indexOf("GOLD75K")>=0?Tier.GOLD75:i.indexOf("GOLD")>=0?Tier.GOLD:i.indexOf("MVP")>=0?Tier.MVP:i.indexOf("STANDARD")>=0?Tier.STANDARD:Tier.UNKNOWN}function s(n){var i=t(n,"AS_fam=");return(i=="ZERO"||i=="unknown")&&(i="0"),parseInt(i)}function h(n){return t(n,"AS_card=")}function c(n){var i=t(n,"AS_Subscrx=");return i.indexOf("InsiderNewsletter")>=0}function l(n){var i=t(n,"AS_BR=");return i.indexOf("ACTIVE")==0}function t(n,t){return i(n,t,"|","unknown")}function i(n,t,i,r){var e=n.indexOf(t),u,f;return e<0?r:(u=n.substring(e+t.length),f=u.indexOf(i),f<=0)?r:(u=u.substring(0,f),!u||u=="")?r:u}var n=visitor;this.PopulateVisitor=function(){n.referrerUrl=typeof document.referrer!="undefined"?document.referrer:"";var t=unescape(document.cookie);return n.destination=f(t),n.tier=o(t),n.isMileagePlanMember=n.tier>0,n.familySize=s(t),n.creditCard=h(t),n.hasInsiderSubscription=c(t),n.isBoardroomMember=l(t),n.mileagePlanBalance=r(t),n.countryStateCodes=e(),typeof testAndTargetUser=="object"&&u(n,testAndTargetUser),n}}function TestUtil(){var n=this;this.debugging=!1;this.overwriteVisitor=function(n){if(window.location.search.indexOf("visitor=")>0){var i=this.getQuerystringParams(window.location.search),t=jQuery.parseJSON(i.visitor);for(prop in t)t.hasOwnProperty(prop)&&n.hasOwnProperty(prop)&&(n[prop]=t[prop])}};this.debugJson=function(t){(n.debugging||window.location.search.indexOf("debug=1")>0)&&this.debug(this.jsonToString(t)+"\r\n\r\n")};this.debug=function(t){(n.debugging||window.location.search.indexOf("debug=1")>0)&&($("#debugText").length==0&&$("body").append("<textarea id='debugText' rows='20' cols='175' readonly='yes'><\/textarea>"),$("#debugText").text($("#debugText").text()+t))};this.jsonToString=function(n){var t="{";for(var i in n)n.hasOwnProperty(i)&&(t.length>1&&(t+=","),t+=""+i+":"+n[i]+"");return t+"}"};this.getQuerystringParams=function(n){var t=unescape(n),r,u,i,f;if(!t)return{};for(t.substring(0,1)=="?"&&(t=t.substring(1)),r={},u=t.split("&"),i=0;i<u.length;i++)f=u[i].split("="),r[f[0]]=f[1];return r}}function NavigationMenu(){var n=this,t="";this.SetupMenuDone=!1;this.SelectTab=function(t){$(t).removeClass("navTab");$(t).addClass("navWhiteBox");n.ShowMenu(t,$("a.nav",t).attr("data-flexmenu"))};this.SelectTabNoSubNav=function(t){$(t).removeClass("navTab");$(t).addClass("navWhiteBox");n.ShowMenuNoSubNav(t,$("a.nav",t).attr("data-flexmenu"));$(".tabContainer").css("position","relative");$(".tabContainer").css("z-index","10000")};this.DeSelectTab=function(t){$(t).hasClass("selectedTab")||($(t).hasClass("navWhiteBox")&&$(t).removeClass("navWhiteBox"),$(t).addClass("navTab"));n.ToggleTab($(".navBarTab.toggled"));$(".flexdropdownmenu").css({display:"none"});$(".tabContainer").css("position","")};this.DeSelectAllTabs=function(){$(".navBarTab").each(function(){n.DeSelectTab(this)})};this.ToggleTab=function(n){$(n).hasClass("selectedTab")?($(n).removeClass("selectedTab"),$(n).hasClass("navWhiteBox")&&$(n).removeClass("navWhiteBox"),$(n).addClass("navTab"),$(n).addClass("toggled")):($(n).removeClass("navTab"),$(n).addClass("navWhiteBox"),$(n).addClass("selectedTab"),$(n).removeClass("toggled"))};this.ShowMenu=function(n,i){var r=$("#"+i),f,u;$(n).length>0&&($(r).css({position:"absolute"}),$(r).css({"z-index":1e4}),f=1,$(r).css({top:$(n).offset().top+$(n).height()+f}),$(r).css({left:$(n).offset().left-$(n).offsetParent().offset().left-1}));u=0;t==i&&(u=0);$(r).css("display")=="none"&&$(r).slideDown(u);t=i};this.ShowMenuNoSubNav=function(i,r){var u=$("#"+r),e=$(".navBar"),s=$("#Advisories"),f,o;$(i).length>0&&($(u).css({position:"absolute"}),$(u).css({"z-index":9999999}),$(u).css({top:$(e).outerHeight()-5,left:$(e).offset().left-$(i).offset().left+8}),$(u).css("width",$(".contentMain").width()-60));f=0;t==r&&(f=0);o=$("[id^="+r+"]");$(u).css("display")=="none"&&($(o).show(),$(u).slideDown(f));t=r;$(".navBarTab.selectedTab").attr("id")!=$(i).attr("id")&&n.ToggleTab($(".navBarTab.selectedTab"))};this.CancelBubble=function(n){if(!n)var n=window.event;n.cancelBubble=!0;n.stopPropagation&&n.stopPropagation()};$(document).ready(function(){$(".navBar .listitem a").bind("touchend",function(){window.location=$(this).attr("href")});$(".navBar .tabContainer").bind("touchstart",function(i){var r=$("a.nav",this).attr("data-flexmenu");r!=t&&$("#"+r).length>0&&(i.preventDefault(),n.DeSelectAllTabs(),n.SelectTabNoSubNav($(".navBarTab",this)))})})}function LightboxHelper(){this.KeyPressedEventBound=!1;this.GetVisibleHeight=function(){return $(document).height()>$(window).height()?$(window).height():$(document).height()};this.GetTotalHeight=function(){return $(document).height()<$(window).height()?$(window).height():$(document).height()};this.GetVisibleWidth=function(){return $(document).width()>$(window).width()?$(window).width():$(document).width()};this.GetTotalWidth=function(){return $(document).width()<$(window).width()?$(window).width():$(document).width()};this.GetIdUniqueSuffix=function(){var n=new Date,t=n.getHours(),i=n.getMinutes(),r=n.getSeconds();return t+"_"+i+"_"+r+Math.floor(Math.random()*1111)}}function afterPost(n){return n==SIGNIN_REQUIRED||n.indexOf(SESSION_TIMEDOUT_DIV_ID)>0||n.indexOf(MY_ACCOUNT_TIMEDOUT_DIV_ID)>0?(redirectToSignInPage(),!1):!0}function redirectToSignInPage(){$.hideLightBoxes();$("#divSessionTimedOut").showLightBox({width:300,hideCloseBtn:!0});window.setTimeout("window.location.href = 'https://easybiz.alaskaair.com/signin?action=timedout';",1e3)}function redirectToMyAccountSignInPage(n){$.hideLightBoxes();$("#divMyAccountSessionTimedOut").showLightBox({width:300,hideCloseBtn:!0});var t="https://www.alaskaair.com/www2/ssl/myalaskaair/MyAlaskaAir.aspx?CurrentForm=UCSignInStart";n!=null&&(t=t+"&url="+n);window.setTimeout("window.location.href = '"+t+"';",1e3)}function clickBtnOnTargetKey(n,t){event.keyCode==n&&$("#"+t).click()}function focusOnFirstInput(n){$("input:eq(0)",n).focus()}function BuildVShoppingQueryString(n,t){var i=n!=null&&n!=""?"D="+n:"";return i==""&&(i=window.location.search.substring(1),i==null&&(i="")),i!=""&&(i=t+i),i}function vacWidgetCallback(n){$("#vacationFormletIframe").css({height:n+20});$(document).scrollTop($(document).scrollTop())}function showTips(n,t){var r="divLB",i="#"+r,u,f;$(i).length==0&&(u="<div id='"+r+"' style='display:none;overflow:auto;'><\/div>",$("body").append(u));f=(top.location.protocol?top.location.protocol:"http:")+"//";$.get(f+n,function(n){$(i).html(n);$(i+" img").hide();$(i).showLightBox({width:t}).show()})}function FlightWidgetAF(){this.ShowAboutCT=function(){var i=",MILEAGEUPG,GOLDUPG,MVPUPG,GUESTUPG",n,t;$("#fareOptions").length>0&&(i=$("#fareOptions").val());n=new SideDrawer("Upgrade types","Upgrade types");n.Show();t=document.createElement("div");$.get("//"+asglobal.domainUrl+"/shopping/flights/AboutFareOptions?options="+i,function(i){t.innerHTML=i;n.TransferContent(t)})};this.ShowAwardOptions=function(){var t=new SideDrawer("Award Options","Award Options"),n;t.Show();n=document.createElement("div");$.get("//"+asglobal.domainUrl+"/AwardAdvisory/AboutAwardOptions",function(i){n.innerHTML=i;t.TransferContent(n)})};this.ShowAboutInfantCT=function(){var n=new SideDrawer("","");n.Show();var t=document.createElement("div"),r='<style type="text/css">.slideout-hidden {display:none}<\/style> ',i="";$.get("//"+asglobal.domainUrl+"/content/partial/travel-info/policies/traveling-with-lap-infants/_lap-infants",function(u){i=u;$.get("//"+asglobal.domainUrl+"/content/partial/travel-info/policies/children-infants-and-children/_common/_free-baggage",function(u){t.innerHTML=r+i+u;n.TransferContent(t)})})};this.ShowAboutContractFares=function(){function r(){$(t).showLightBox({width:300}).show()}var i="contractFares_LB",t="#"+i,n;$(t).length==0?($("body").append("<div id="+i+"><\/div>"),n="http:",n=(top.location.protocol?top.location.protocol:n)+"//",$.get(n+asglobal.domainUrl+"/shared/tips/aboutcompanyfares.aspx",function(n){$(t).html(n);r()})):r()};this.ShowUMNROptions=function(){function i(){$(n).showLightBox({width:460}).show()}function r(){if(!$("#umnrYes").get(0).checked&&!$("#umnrNo").get(0).checked){$("#divNoRequiresUmnrService").show();return}$("#flightsFormletIframe").contents().find("#umnrYes").get(0).checked=$("#umnrYes").get(0).checked;$("#flightsFormletIframe").contents().find("#umnrNo").get(0).checked=$("#umnrNo").get(0).checked;$("#flightsFormletIframe").contents().find("#submitUMNRRequest").click()}var t="umnrOptions_LB",n="#"+t;$(n).remove();$("body").append("<div id="+t+"><\/div>");$(n).html($("#flightsFormletIframe").contents().find("#divUMNR-container").clone().html());$("#divUMNR").show();$("#submitUMNRRequest").attr("onclick","").undelegate();$("#divUMNR").delegate("#submitUMNRRequest","click",r);i()}}function generateBubbleEvents(n,t,i,r,u,f){n!=null&&n.type!=null&&n.type=="click"?(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation(),t.mouseOutHide=!1):($(t.src).attr("bubble_click")=="true"&&$(t.src).unbind("click"),$(t.src).bind("click",function(n){$(t.src).unbind("mouseout");f==null||f==1?$(i).showBubble({width:t.width,src:$(this),offsetLeft:t.offsetLeft,mouseOutHide:!1},n):$(i).showBubbleH({width:t.width,height:t.height,src:$(this),pointLeft:t.pointLeft,mouseOutHide:!1},n)}),$(t.src).attr({bubble_click:"true"}));t.mouseOutHide==null||t.mouseOutHide!=!1?($(u).hide(),$(t.src).bind("mouseout",function(){$(r).hide()})):$(u).show().bind("click",function(){$(r).hide()});closeOnClickBound==!1&&($(document).bind("click",function(){$(".bubble-new").hide()}),$(window).bind("resize",function(){$(".bubble-new").hide()}),closeOnClickBound=!0);$(r).bind("click",function(n){n||(n=window.event);n.cancelBubble=!0;n.stopPropagation&&n.stopPropagation()});$(t.src).bind("click",function(n){n||(n=window.event);n.cancelBubble=!0;n.stopPropagation&&n.stopPropagation()})}function IntentMediaPixel(){this.insertIntentMediaConversionPixel=function(){$("#intentMediaUrl").length&&$("body").append($("<img width='1' height='1' border='0' alt='intent media url'><\/img>").attr({src:$("#intentMediaUrl").attr("href")}))};this.insertIntentMediaGlobalPixel=function(){var t,n,i;window.IntentMediaProperties={page_id:"UNKNOWN",product_category:"FLIGHTS",page_view_type:"UNKNOWN",user_member_id:"",entity_id:"66539"};"undefined"!=typeof s&&"undefined"!=typeof s.pageName&&(window.IntentMediaProperties.page_id=s.pageName);"undefined"!=typeof VisitorRepository&&(t=(new VisitorRepository).PopulateVisitor(),window.IntentMediaProperties.user_member_id=t.isMileagePlanMember?"Y":"N");n=document.createElement("script");i=document.location.protocol==="https:"?"https://a":"http://a.cdn";n.src=i+".intentmedia.net/javascripts/intent_media_data.js";document.getElementsByTagName("head")[0].appendChild(n)}}function DateFilter(){var n,f=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],i={newYears:[0,1],newYearsDay:[0,1],groundhogDay:[1,2],valentinesDay:[1,14],patricksDay:[2,17],flagDay:[5,14],independenceDay:[6,4],alaskaDay:[9,18],halloween:[9,31],veteransDay:[10,11],christmasEve:[11,24],christmas:[11,25],newYearsEve:[11,31]},u={mlk:[3,1,0],mklJr:[3,1,0],mlkDay:[3,1,0],mlkJrDay:[3,1,0],presidentsDay:[3,1,1],mothersDay:[2,0,4],fathersDay:[3,0,5],laborDay:[1,1,8],columbusDay:[2,1,9],thanksgiving:[4,4,10]},o=["","st","nd","th","of"],e=["day","eve","gras","years","jr"],s=function(n){for(var u,f,i=n.split("-"),r=[],t=0,s=i.length;t<s;t++)$.inArray(i[t],o)===-1&&(u=$.inArray(i[t],e),t>0&&u>-1?(f=e[u],r[r.length-1]+=f[0].toUpperCase()+f.slice(1)):r.push(i[t]));return r},h=function(n){for(var u=[],i,r,o,s,t=0,e=n.length;t<e;t++){for(i=n[t],r=0,o=f.length;r<o;r++)if(i.indexOf(f[r])>-1){i=r+1;t>0&&(s=u[t-1],u[t-1]=i,i=s);break}u.push(i)}return u},c=function(n){var t,i;return typeof n!="string"?"":(n=n.toLowerCase(),n=n.replace(/\./g,"-"),n=n.replace(/ /g,"-"),n=n.replace(/\//g,"-"),n=n.replace(/'/g,""),n=n.replace("black-friday","blackFriday"),n=n.replace("cyber-monday","cyberMonday"),n=n.replace("good-friday","goodFriday"),t=n.match(/[0-9][a-z]/),t&&(t=t[0],n=n.replace(t,t[0]+"-"+t[1])),i=n.match(/[a-z][0-9]/),i&&(i=i[0],n=n.replace(i,i[0]+"-"+i[1])),n)},t=function(n,t,i,r){var f=new Date(r,i,1).getDay(),u=(t+8-f)%7;return u===0&&(u+=7),new Date(r,i,u+7*(n-1))},r={mardiGras:function(n){var t=r.easter(n);return new Date(n,t.getMonth(),t.getDate()-47)},goodFriday:function(n){var t=r.easter(n);return new Date(n,t.getMonth(),t.getDate()-2)},easter:function(n){var t=(n%19*11+5)%30,i,r;return t===0?t=1:t===1&&(t=2),i=new Date(n,3,19-t),r=7-i.getDay(),new Date(n,3,19-t+r)},taxDay:function(n){var t=new Date(n,3,15),i=t.getDay();return i===5||i===6?t=new Date(n,3,18):i===0&&(t=new Date(n,3,17)),t},memorialDay:function(n){var i=t(5,1,4,n);return i.getMonth()===5&&(i=t(4,1,4,n)),i},electionDay:function(n){var i=t(1,1,10,n);return new Date(n,i.getMonth(),i.getDate()+1)},blackFriday:function(n){var i=u.thanksgiving,r=t(i[0],i[1],i[2],n);return new Date(n,r.getMonth(),r.getDate()+1)},cyberMonday:function(n){var i=u.thanksgiving,r=t(i[0],i[1],i[2],n);return new Date(n,r.getMonth(),r.getDate()+4)}},l=function(f){for(var e,l,o,h,y,v,s=n.getFullYear(),c=0,p=f.length;c<p;c++){if(e=f[c],l=null,i[e])return o=new Date(s,i[e][0],i[e][1]),o<n&&(o=new Date(s+1,i[e][0],i[e][1])),o;if(u[e])return h=u[e],o=t(h[0],h[1],h[2],s),o<n&&(o=t(h[0],h[1],h[2],s+1)),o;if(r[e])return o=r[e](s),o<n&&(o=r[e](s+1)),o;switch(e){case"today":l=0;break;case"tomorrow":l=1}if(l!==null)return new Date(s,n.getMonth(),n.getDate()+l);var a=$.inArray(e,["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]);if(a===-1&&(a=$.inArray(e,["sun","mon","tue","wed","thu","fri","sat"])),a>-1)return y=n.getDay(),v=(7+a-y)%7,v===0&&c>0&&f[c-1]==="next"&&(v=7),new Date(s,n.getMonth(),n.getDate()+v)}return f},a=function(t){return isNaN(t.day)&&!isNaN(t.month)&&(t.day=t.month+1,t.month=n.getMonth(),t.inputMonth=NaN,t.day<n.getDate()&&t.month++),t},v=function(t){t.year<100&&(t.year+=2e3);t.month<n.getMonth()&&!t.inputYear&&t.year++},y=function(t){if(typeof t=="object")n=t;else{var i=new Date;n=new Date(i.getFullYear(),i.getMonth(),i.getDate())}};return function(t,i){var u,r,f,e;return t?(y(i),t=c(t),r=s(t),f=l(r),f!==r)?f:(r=h(r),e=parseInt(r[0],10)-1,u={month:e,day:parseInt(r[1],10),year:r.length<3?n.getFullYear():parseInt(r[2],10),inputMonth:e,inputYear:r.length<3?null:parseInt(r[2],10)},a(u),v(u),isNaN(u.day))?null:(f=new Date(u.year,u.month,u.day),!isNaN(u.inputMonth)&&f.getMonth()!==u.inputMonth)?null:f:null}}function datepicker(n,t){this.$id=$("#"+n);this.$monthObj=this.$id.find("#month");this.$monthLabel=this.$id.find("#month-label");this.$prev=this.$id.find("#btn-prev");this.$next=this.$id.find("#btn-next");this.$grid=this.$id.find("#cal1");this.$target=null;this.bModal=t;this.isVisible=!1;this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.shortMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.keys={tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40};var i=new Date;this.minDate=i;this.maxDate=new Date(i.getFullYear(),i.getMonth(),i.getDate()+331);this.curYear=i.getFullYear();this.curMonth=i.getMonth();this.setActiveDate(i);this.bindHandlers();this.bModal===!0&&this.$id.attr("aria-hidden","true")}function DatePickerInit(){function i(n,t){t||console.log("!!! something related to the datepicker is not valid !!!")}function e(n,t){var r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=DateFilter(),f=t.attr("minDate"),e=s(f)||o,u=e<=n;f&&!u&&(t.val(e),u=!0);i("tooEarly",u)}function o(n){var t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),u=new Date(r.getFullYear(),r.getMonth(),r.getDate()+330);i("tooLate",u>=n)}function r(n,t){n&&t&&t.select()}function s(n,t){var f=DateFilter(),r=f(t.val()),i="";r&&(i=Date.parse(r));i!==u&&(i&&i.getMonth&&t.val(i.getMonth()+1+"/"+i.getDate()+"/"+i.getFullYear()),t.triggerHandler("input"),u=i);r&&(e(r,t),o(r,t))}function h(){return'<div id="as-datepicker" class="datepicker" aria-hidden="true"><div class="month-wrap"><div id="btn-prev" class="btn-prev" role="button" aria-labelledby="btn-prev-label" tabindex="0">&lsaquo;<\/div><div id="month" class="month"><\/div><div id="btn-next" class="btn-next" role="button" aria-labelledby="btn-next-label" tabindex="0">&rsaquo;<\/div><\/div><div><table id="cal1" class="calendar" role="grid" aria-activedescendant="errMsg" aria-labelledby="month-label" tabindex="0"><thead><tr><th scope="col"><abbr id="Sunday" title="Sunday">Su<\/abbr><\/th><th scope="col"><abbr id="Monday" title="Monday">Mo<\/abbr><\/th><th scope="col"><abbr id="Tuesday" title="Tuesday">Tu<\/abbr><\/th><th scope="col"><abbr id="Wednesday" title="Wednesday">We<\/abbr><\/th><th scope="col"><abbr id="Thursday" title="Thursday">Th<\/abbr><\/th><th scope="col"><abbr id="Friday" title="Friday">Fr<\/abbr><\/th><th scope="col"><abbr id="Saturday" title="Saturday">Sa<\/abbr><\/th><\/tr><\/thead><tbody><tr><td id="errMsg" colspan="7">Javascript must be enabled<\/td><\/tr><\/tbody><\/table><\/div><div id="btn-prev-label" class="sr-only">Go to previous month<\/div><div id="btn-next-label" class="sr-only">Go to next month<\/div><div id="month-label" class="sr-only" role="heading" aria-live="assertive" aria-atomic="true"><\/div><\/div>'}function c(n){$(n+" .as-datepicker").each(function(){var n=$(this),t=n.data("wrapped")===undefined?!0:!1;t&&(n.attr("data-wrapped",!0).wrap('<span class="as-datepicker-wrapper" />'),n.parent().append('<div class="icon-calendar" tabindex="0" aria-label="Open datepicker" role="button" alt="Open datepicker"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="m 439 123 c -6 -5 -12 -8 -19 -8 l -26 0 l 0 -19 c 0 -9 -3 -17 -10 -24 c -6 -6 -14 -9 -23 -9 l -13 0 c -9 0 -16 3 -23 9 c -6 7 -9 15 -9 24 l 0 19 l -79 0 l 0 -19 c 0 -9 -3 -17 -9 -24 c -7 -6 -14 -9 -23 -9 l -13 0 c -9 0 -17 3 -23 9 c -7 7 -10 15 -10 24 l 0 19 l -26 0 c -7 0 -13 3 -18 8 c -6 5 -8 11 -8 18 l 0 261 c 0 8 2 14 8 19 c 5 5 11 8 18 8 l 287 0 c 7 0 13 -3 19 -8 c 5 -5 7 -11 7 -19 l 0 -261 c 0 -7 -2 -13 -7 -18 Z m -247 279 l -59 0 l 0 -58 l 59 0 Z m 0 -71 l -59 0 l 0 -66 l 59 0 Z m 0 -79 l -59 0 l 0 -58 l 59 0 Z m -5 -93 c -1 -1 -2 -3 -2 -5 l 0 -58 c 0 -2 1 -4 2 -5 c 1 -1 3 -2 5 -2 l 13 0 c 1 0 3 1 4 2 c 2 1 2 3 2 5 l 0 58 c 0 2 0 4 -2 5 c -1 1 -3 2 -4 2 l -13 0 c -2 0 -4 -1 -5 -2 Z m 83 243 l -65 0 l 0 -58 l 65 0 Z m 0 -71 l -65 0 l 0 -66 l 65 0 Z m 0 -79 l -65 0 l 0 -58 l 65 0 Z m 78 150 l -65 0 l 0 -58 l 65 0 Z m 0 -71 l -65 0 l 0 -66 l 65 0 Z m 0 -79 l -65 0 l 0 -58 l 65 0 Z m -4 -93 c -2 -1 -2 -3 -2 -5 l 0 -58 c 0 -2 0 -4 2 -5 c 1 -1 3 -2 4 -2 l 13 0 c 2 0 4 1 5 2 c 1 1 2 3 2 5 l 0 58 c 0 2 -1 4 -2 5 c -1 1 -3 2 -5 2 l -13 0 c -1 0 -3 -1 -4 -2 Z m 76 243 l -59 0 l 0 -58 l 59 0 Z m 0 -71 l -59 0 l 0 -66 l 59 0 Z m 0 -79 l -59 0 l 0 -58 l 59 0 Z" /><\/svg><\/div>'))})}function l(n,t,i){const r=function(n){n.keyCode===27&&t.hideDlg(!0,!1)};if(i){var u="keydown."+i;$("#"+n).unbind(u).bind(u,r)}else $("#"+n).bind("keydown",r)}function a(n,t,i){var r,u;const e=function(n){for(var i=$(n.srcElement||n.target),r;(i.attr("tagName")||i.prop("tagName")).toLowerCase()!=="input";)if(i=i.parent(),r=i.find("input"),r.length>0&&(i=$(r[0])),(i.attr("tagName")||i.prop("tagName")).toLowerCase()==="body")break;return f(n,t,i,!1)};r=$(n+" .as-datepicker, "+n+" .as-datepicker + .icon-calendar");i?(u="click."+i,r.unbind(u).bind(u,e)):r.bind("click",e)}function v(n,t,i){var r,u;const e=function(n){if(n.keyCode===13){var i=$(n.srcElement||n.target),r=i.parent().find("input");return f(n,t,r,!1)}};r=$(n+" .as-datepicker + .icon-calendar");i?(u="keydown."+i,r.unbind(u).bind(u,e)):r.bind("keydown",e)}function y(n,i){var r=new Date;if(n.attr("minDate"))r=i(n.attr("minDate"));else if(n.attr("minDateOffset")){var u=n.attr("minDateOffset").match(t),f=0,e=0;u[2]&&(f=parseInt(u[2],10));u[4]&&(e=parseInt(u[4],10));r=new Date(r.getFullYear(),r.getMonth()+f,r.getDate()+e)}return r}function p(n){var i=null,u;if(n.attr("maxDate")&&(i=new Date(n.attr("maxDate")),i.setDate(i.getDate()+1)),n.attr("maxDateOffset")){var r=n.attr("maxDateOffset").match(t),f=0,e=0;r[2]&&(f=parseInt(r[2],10));r[4]&&(e=parseInt(r[4],10));i&&(u=new Date(i.getFullYear(),i.getMonth()+f,i.getDate()+e));(!i||u<i)&&(i=u)}return i}function w(n,t){n.$id.insertAfter(t);var u=t,i={top:u.parent().outerHeight()+"px",left:"auto",right:"auto"},r=t.parent().parent().attr("class");r&&r.match("left-")||t.hasClass("left-calendar")?i.left="0":i.right="0";n.$id.css(i)}function f(n,t,i,u){if(typeof makeDropdown=="function"&&makeDropdown.hide(),t.isVisible&&t.$target[0].id===i.attr("id"))return r(u),!1;var e=DateFilter(),f=y(i,e),c=p(i,e),o,h,l=new Date;return o=i.val(),c&&t.setMaxDate(c),t.setMinDate(f),o?(h=e(o),h&&t.setActiveDate(h)):f&&(f<l?t.setActiveDate(l):t.setActiveDate(f)),w(t,i),t.$target=t.getTarget(i.attr("id")),t.setCloseCb(function(){s("cb",i)}),t.showDlg(),r(u,i),!1}var b=this,n=null,t=/((\-?[\d]+)m)?((\-?[\d]+)d)?/,u="";this.init=function(t,i,r,u){var f,e;n==null&&($("body").append(h()),n=new datepicker("as-datepicker",!0));c(t);l("as-datepicker",n,i);a(t,n,i);v(t,n,i);u!=""&&$("#"+u).focus().val($("#"+u).val());typeof r=="function"&&(f=$(t+" .as-datepicker"),i?(e="change."+i,f.unbind(e).bind(e,r)):f.bind("change",r))}}function DeferredLoader(){function t(){window.addEventListener?window.addEventListener("load",as.deferredLoader.startDownload,!1):window.attachEvent?window.attachEvent("onload",as.deferredLoader.startDownload):window.onload=as.deferredLoader.startDownload}var n=!1;this.init=function(){t()};this.startDownload=function(){if(!n){n=!0;var t=new RegExp("IMAGEToken=[^;]+","i"),i=document.cookie.match(t);typeof callDeferredOmniture=="function"&&callDeferredOmniture();as.intentMediaPixel&&(as.intentMediaPixel.insertIntentMediaGlobalPixel(),as.intentMediaPixel.insertIntentMediaConversionPixel());as&&as.IsForeseeDown===!1&&!i&&(localStorage&&localStorage.getItem("isAutomatedTest"))!==!0&&as.foresee.foreseeLauncher();as.interstitial&&as.interstitial.insertInterstitialImages();typeof jQueryMigrateWarnings=="function"&&(new jQueryMigrateWarnings).init(as.Environment);typeof as.stnw=="undefined"||document.cookie.match(t)||as.stnw.init();typeof downloadDeferredContent=="function"&&downloadDeferredContent()}}}function trackeVar59(n){typeof utag!="undefined"&&utag.link({event_name:"link_click",hotel_site_source:n});omniUtils.debug&&omniUtils.console.log("eVar59 tracked for : "+n)}function trackeVar60(n){typeof utag!="undefined"&&utag.link({event_name:"link_click",car_site_source:n});omniUtils.debug&&omniUtils.console.log("eVar60 tracked for : "+n)}function trackLink(n,t){var r,i,u,f;utag_data?(r=$(n),i=r.data(t),i&&(u=r.data("omniture-include-pagename")==="true",f=u?utag_data.page_name+" | "+i:i,typeof utag!="undefined"&&utag.link({event_name:"link_click",link_tracking:f}))):console&&console.warn("utag_data is not defined!")}function do_nothing(){return!1}function create(n){var i=document.createDocumentFragment(),t=document.createElement("div");for(t.innerHTML=n;t.firstChild;)i.appendChild(t.firstChild);return i}function RemoveChildrenDropdownOpenClassOnOutsideClick(n){$(".dropdown.childrenDropDown-toggle").has(n.target).length===0&&$(".open").has(n.target).length===0&&$(".dropdown.childrenDropDown-toggle").removeClass("open")}function UpdateButtonState(n,t){n>0?t.css("fill",""):t.css("fill","#c8c9c7")}function ShowAboutInfantCT(){var i=new SideDrawer("Children","Children"),n,t;i.Show();n=document.createElement("div");t="";$.get("//"+asglobal.domainUrl+"/content/partial/travel-info/policies/traveling-with-lap-infants/_lap-infants",function(r){t=r;$.get("//"+asglobal.domainUrl+"/content/partial/travel-info/policies/children-infants-and-children/_common/_free-baggage",function(r){n.innerHTML=t+r;i.TransferContent(n)})})}var KeyCodeEnter,KeyCodeSpace,asglobal,as,navigationMenu,lightboxHelper,ESCAPE_KEY_CODE,ENTER_KEY_CODE,flightWidgetAF,closeOnClickBound,AS,flightDateChangeCallback,datePickerInit,LiteEvent,SideDrawer,omniUtils,updateChildrenCount,validateCounts,createError,iCanUseOn;(function(){var t,n;jQuery.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}};t=jQuery.uaMatch(navigator.userAgent);n={};t.browser&&(n[t.browser]=!0,n.version=t.version);n.chrome?n.webkit=!0:n.webkit&&(n.safari=!0);jQuery.browser=n})();asFrameworkUtils={},function(n){n.SyncPromise=function(t){var i=this;i.then=function(n){n&&n(t)};i.each=function(){return new n.SyncAllPromise(t)}};n.SyncAllPromise=function(t){var i=this;i.then=function(n){if(n)for(var i in t)n(t[i])};i.each=function(){var r=[],i,u;for(i in t)for(u in t[i])r.push(t[i][u]);return new n.SyncAllPromise(r)}}}(asFrameworkUtils);typeof as!="undefined"&&(as.tagUtil=new TagUtil);document.referrer.indexOf("intentmedia.net")==-1&&document.referrer.indexOf("www.kayak.com")==-1&&document.referrer.indexOf("www.google.com")==-1&&document.referrer.indexOf("www.tripadvisor.com")==-1&&document.referrer.indexOf("www.alaskaair.com")==-1&&document.referrer.indexOf("alaskaair.convertlanguage.com/alaskaair/enes/")==-1&&top!=self&&(top.location=self.location);KeyCodeEnter=13;KeyCodeSpace=32,function(n){var i=n.fn.show,t;n.fn.show=function(){var r=i.apply(this,arguments),t=n(this).attr("id");return t!=="divFormFiller"&&t!=="iFiller"&&t!=="interstitial"&&n(this).attr("aria-hidden","false"),r};t=n.fn.hide;n.fn.hide=function(){var i=t.apply(this,arguments),r=n(this).attr("id");return r!=="interstitial"&&n(this).attr("aria-hidden","true"),i}}(jQuery);asglobal=window.asglobal||{};asglobal.getUrl=function(n){return this.homePageUrl.indexOf("/",this.homePageUrl.length-1)!==-1?"//"+this.homePageUrl+n:"//"+this.homePageUrl+"/"+n};SetDomainVariables();$(document).ready(function(){var n=$(".errorTextSummary:first").eq(0),t,i,r;n&&n.css("display")!="none"&&n.focus();t=$(".infoContentMain:first").get(0);t&&(i=$("#skip a"),i.attr("href","#infoContentMain"));r=$(".contentMain:first").get(0);r&&$(".contentMain:first").attr("id","content")});$(document).ready(function(){var n="ASUpgradeBrowserNotification",t="EXPIRES IN ONE DAY",u=readCookie(n),i,r;u||(i=document.createElement("div"),i.innerHTML="<!--[if lte IE 9]><i><\/i><![endif]-->",r=i.getElementsByTagName("i").length===1,r&&$.ajax({url:"//"+asglobal.domainUrl+"/content/partial/upgrade-browser",cache:!1,success:function(i){i.toLowerCase().indexOf("this page has taken off")===-1&&($("body").append(i),$("#upgradeContinue").bind("click",function(){$.closeEzPopoups(!1);createCookie(n,t,1)}),$("#upgradeNow").bind("click",function(){$.closeEzPopoups(!0);createCookie(n,t,1);var i="https://"+asglobal.domainUrl+"/content/about-us/site-info/browser-info.aspx";window.location.replace(i)}));$("#upgradeBrowser").showLightBox({width:600,height:230,onClose:function(){createCookie(n,t,1)}}).show();$("#upgradeBrowser").attr("tabindex","0").focus()},error:function(){createCookie(n,t,1)}}))});$("[data-persist-by-date]").each(function(){var i=$(this),n=$(this).data("persist-by-date"),t;n!==""&&(t=new Date,dateCheck=new Date(n))});as=window.as||{};as.topNav=new TopNav;$(document).ready(function(){if(as.topNav.init(),$("#content").attr("tabindex",-1),document.location.hash&&document.location.hash!=="#"&&document.location.hash[1]!=="?"){var n=document.location.hash;setTimeout(function(){$(n).focus()},100)}$("a[href^='#']").click(function(){var n=this.href.split("#")[1];n!==undefined&&n!==""&&setTimeout(function(){$("#"+n).focus()},100)})});as.authentication=new Authentication;$(document).ready(function(){as.authentication.init()});$(function(){$("#myAccount input").keydown(function(n){if(n.keyCode==13)return $("#greyInterstitialCover").length&&$("#greyInterstitialCover").css("display","block"),$(this).parents("form").submit(),!1})});var Tier={UNKNOWN:0,STANDARD:1,MVP:2,GOLD:3,GOLD75:4},Country={UNKNOWN:"unknown",US:"united states",CA:"canada"},CreditCardType={UNKNOWN:"unknown",VISA:"BAAS"},visitor={country:Country.UNKNOWN,tier:Tier.UNKNOWN,creditCard:CreditCardType.UNKNOWN,destination:"unknown",referrerUrl:"",isMileagePlanMember:!1,hasInsiderSubscription:!1,isBoardroomMember:!1,familySize:0,countryStateCodes:""};navigationMenu=new NavigationMenu;var WidgetContainers={Selectors:{V:"#vshopping-container",H:"#hshopping-container",P:"#pshopping-container"}},POPUP_OUTER_DIV_CLASS="EzPopopOuter",POPUP_INNER_DIV_CLASS="EzPopopInner",POPUP_CLOSE_BTN_CLASS="EzPopopClsBtn",CLOSE_ANCHOR_ID="closeAnchorId",FORM_FILLER_ID="divFormFiller",lastFormFiller=null,lastFocus;typeof $.browser=="undefined"&&($.browser={},function(){$.browser.msie=!1;$.browser.version=0;navigator.userAgent.match(/MSIE ([0-9]+)\./)&&($.browser.msie=!0,$.browser.version=RegExp.$1)}());window.onresize=function(){$.browser.msie&&($("#"+FORM_FILLER_ID).length!==0&&$("#"+FORM_FILLER_ID).css("display").toLowerCase()!=="none"&&$.showFormFiller(),$("#"+PROCESSING_DIV_ID).length!==0&&$("#"+PROCESSING_DIV_ID).css("display").toLowerCase()!=="none"&&$.showProcessingBar())};jQuery.fn.positionElement=function(n){var t=n!=null&&n.top!=null&&!isNaN(n.top)?n.top:0,i=n!=null&&n.left!=null&&!isNaN(n.left)?n.left:0,r=n!=null&&n.duration!=null?n.duration:"slow";this.css({left:i}).css({top:t});this.show(r)};jQuery.showFormFiller=function(n,t){if(lastFormFiller&&lastFormFiller.unbind("click"),$("#"+FORM_FILLER_ID).length===0){var i=$("body");i.length===0&&(i=$("div").first());i.append("<div id='"+FORM_FILLER_ID+"' aria-hidden='true'><\/div>");$("#"+FORM_FILLER_ID).css({backgroundColor:"#000",display:"none",zIndex:"500",opacity:"0.4",position:"fixed",top:0,left:0,bottom:0,right:0})}$("#"+FORM_FILLER_ID).show();setTimeout(function(){lastFormFiller=$("#"+FORM_FILLER_ID);lastFormFiller.bind("click",function(){if((n===null||n===!0)&&($.closeEzPopoups(),t!=null&&typeof t=="function"))try{t()}catch(i){}})},2e3)};lightboxHelper=new LightboxHelper;jQuery.hideFormFiller=function(){$("#"+FORM_FILLER_ID).hide()};jQuery.fn.makeRoundCorner=function(n){var t=n!=null&&n.cornerRadius!=null?n.cornerRadius:5;return this.css({"border-radius":t}),this};jQuery.fn.formatEzTable=function(){var n=this;n.each(function(){$(this).attr({cellpadding:6}).attr({cellspacing:0});$(this).css("border-left","solid 1px #656565");$(this).css("border-top","solid 1px #656565");$("td",$(this)).css("border-right","solid 1px #656565");$("td",$(this)).css("border-bottom","solid 1px #656565");$("th",$(this)).css("border-right","solid 1px #656565");$("th",$(this)).css("border-bottom","solid 1px #656565");var n=0;$("tbody > tr",this).each(function(){$(this).css("display").toLowerCase()!="none"&&(n++,n==1?$(this).css("background-color","#E6EDF6"):n%2==1?$(this).css("background-color","#E6EDF6"):$(this).css("background-color","white"))})})};jQuery.closeEzPopoups=function(n){console.log("closing popups",n);n=n==null?!1:n;n===!0?($(".EzPopopOuter").hide(),$.hideFormFiller()):$(".EzPopopOuter").hide("slow",function(){$.hideFormFiller()})};jQuery.fn.centerEz=function(n){var t=n!=null&&n.baseWidth!=null&&!isNaN(n.baseWidth)?n.baseWidth:$(document).width(),e=n.duration,u;(isNaN(t)||t==null||t==0)&&(t=$(document).width());var o=lightboxHelper.GetVisibleHeight(),i=(o-this.height())/2+$(document).scrollTop(),r=(t-this.width())/2+$(document).scrollLeft(),f=7;return i<f&&(i=f),u=0,r<u&&(r=u),this.css({position:"absolute"}),this.positionElement({top:i,left:r,duration:e}),this};jQuery.fn.showEzPopup=function(n){var r=n!=null&&n.top!=null&&!isNaN(n.top)?n.top:0,u=n!=null&&n.left!=null&&!isNaN(n.left)?n.left:0,f=n!=null&&n.centerOnPage!=null?n.centerOnPage:!1,t=0,i=n.baseWidth;f==!0?i!=null&&i>0?this.centerEz({baseWidth:i,duration:t}):this.centerEz({duration:t}):r!=0&&u!=0?$(this).positionElement({left:u,top:r,duration:t}):$(this).css({position:"absolute"}).show(t)};jQuery.fn.hideEzPopup=function(){this.hide();$.hideFormFiller()};$.postify=function(n){var t={},i=function(n,r){var u,f;for(u in n){f=isFinite(u)?(r!=""?r:"")+"["+u+"]":(r!=""?r+".":"")+u;switch(typeof n[u]){case"number":case"string":case"boolean":t[f]=n[u];break;case"object":n[u].toUTCString?t[f]=n[u].toUTCString().replace("UTC","GMT"):i(n[u],f!=""?f:u)}}};return i(n,""),t};jQuery.fn.disableEnableInputControls=function(n){this==null?($("input").attr({disabled:n}),$("select").attr({disabled:n}),$("textarea").attr({disabled:n})):($("input",this).attr({disabled:n}),$("select",this).attr({disabled:n}),$("textarea",this).attr({disabled:n}))};jQuery.showValidationMessages=function(){$(".redtext").show()};jQuery.hideValidationMessages=function(){$(".redtext").hide()};jQuery.showActionMessage=function(n,t,i){if(n=="")$.hideActionMessage();else{var r=i!=null&&i.top!=null?i.top:150,u=i!=null&&i.left!=null?i.left:170,f=i!=null&&i.hideActionMessage!=null?i.hideActionMessage:!0;t==null&&(t=!0);t?$("#"+MESSAGE_TEXT_DIV_ID).css({color:"red"}).html(n):$("#"+MESSAGE_TEXT_DIV_ID).css({color:"#54112b"}).html(n).addClass("successTextSummary");$("#"+MESSAGE_CONTAINER_DIV_ID).positionElement({top:r,left:u,duration:"fast"})}};jQuery.hideActionMessage=function(){$("#"+MESSAGE_CONTAINER_DIV_ID).hide()};jQuery.showProcessingBar=function(){var r=lightboxHelper.GetVisibleWidth(),u=lightboxHelper.GetVisibleHeight(),f=(u-$("#"+PROCESSING_DIV_ID).height())/2+$(document).scrollTop(),e=(r-$("#"+PROCESSING_DIV_ID).width())/2+$(document).scrollLeft(),t=$("#"+PROCESSING_DIV_ID),i=$("body"),n;$(t).length==0&&(n="<div aria-describedby='divProcessingSpinner-message' role='alert' class='divProcessingSpinner' style='height:100px; width:100px; display:none; z-index:10000; background-color:#01426A; padding:20px; border-radius: 3px' id='"+PROCESSING_DIV_ID+"'>",n+="<div class='spinner'><span>|<\/span><span>|<\/span><span>|<\/span><span>|<\/span><span>|<\/span><span>|<\/span><span>|<\/span><span>|<\/span><\/div>",n+="<p id='divProcessingSpinner-message'><span tabindex='-1'>Processing. Please Wait.<\/span><\/p>",n+="<\/div>",i.length==0&&(i=$("div").first()),i.append(n),t=$("#"+PROCESSING_DIV_ID),$(t).css({position:"absolute"}).css({top:0}).css({left:0}));$.showFormFiller(!1);$("#"+PROCESSING_DIV_ID).css({left:e}).css({top:f}).show();$(document).scrollTop($(document).scrollTop()+1)};jQuery.scroll1pxDown=function(){$(document).scrollTop($(document).scrollTop()+1)};jQuery.hideProcessingBar=function(){$.hideFormFiller();$("#"+PROCESSING_DIV_ID).hide()};var PROCESSING_DIV_ID="divProcessing",MESSAGE_CONTAINER_DIV_ID="divMessageContainer",MESSAGE_TEXT_DIV_ID="divMessageText",CLOSE_MESSAGE_BAR_DIV_ID="divCloseMessageBar",SESSION_TIMEDOUT_DIV_ID="divSessionTimedOut",MY_ACCOUNT_TIMEDOUT_DIV_ID="divMyAccountSessionTimedOut";jQuery.createMessageElements=function(){var t=$("body"),i=$("#"+PROCESSING_DIV_ID),u,r,f,n,e;$(i).length==0&&(n="<div aria-describedby='divProcessingSpinner-message' role='alert' class='divProcessingSpinner' style='height:100px; width:100px; display:none; z-index:10000; background-color:#01426A; padding:20px; border-radius: 3px' id='"+PROCESSING_DIV_ID+"'>",n+="<div class='spinner'><span>|<\/span><span>|<\/span><span>|<\/span><span>|<\/span><span>|<\/span><span>|<\/span><span>|<\/span><span>|<\/span><\/div>",n+="<p id='divProcessingSpinner-message'><span tabindex='-1'>Processing. Please Wait.<\/span><\/p>",n+="<\/div>",t.length==0&&(t=$("div").first()),t.append(n),i=$("#"+PROCESSING_DIV_ID),$(i).css({position:"absolute"}).css({top:0}).css({left:0}));u=$("#"+MESSAGE_CONTAINER_DIV_ID);$(u).length==0&&(n="",n+="<div id='"+MESSAGE_CONTAINER_DIV_ID+"' style='display:none;position:absolute;'>",n+="<div id='"+MESSAGE_TEXT_DIV_ID+"' style='float: left; text-align: center;padding-top:5px; font-weight:bold;'><\/div>",n+="<div id='"+CLOSE_MESSAGE_BAR_DIV_ID+"' style='float: left;z-index:20000; cursor:pointer; padding-left: 10px;'>",n+="\t<img src='https://resource.alaskaair.net/-/media/Images/icons/Popup_Close_X' alt='Close' tabindex='0' role='button' />",n+="<\/div>",t.length==0&&(t=$("div").first()),t.append(n),r=$("#"+CLOSE_MESSAGE_BAR_DIV_ID),$(r).click(function(){$.hideActionMessage()}),$(r).css({"padding-left":"10px"}).hide());f=$("#"+SESSION_TIMEDOUT_DIV_ID);$(f).length==0&&(n="",n+="<div id='divSessionTimedOut' style='display:none;'>",n+="\tYour session has timed out. You will be redirected to the signin page.<br />",n+="\t<br />",n+="\tPlease wait...<img alt='' src='https://www.alaskaair.com/images/interstitial-animated-dots.gif' />",n+="<\/div>",t.length==0&&(t=$("div").first()),t.append(n));$.browser.msie&&(e=$(document).scrollTop(),i.css({top:e}).css({left:0}))};var SIGNIN_REQUIRED="SigninRequired",ERROR_ENCOUNTERED="Error was encountered, please try again.",REQUEST_SUCCESSFUL="Your request was successfully processed.",REQUEST_TIMED_OUT="Your request timed out, please try again.";if(ESCAPE_KEY_CODE=27,ENTER_KEY_CODE=13,jQuery.toggleAjaxProcessingImage=function(n){n?$.showProcessingBar():$.hideProcessingBar()},jQuery.fn.showLightBox=function(n){var t,o,u,v,y,p,h,it,w,b;$.closeEzPopoups(!0);n=n||{};var rt=n!=null&&n.baseWidth!=null?n.baseWidth:$(document).width(),i=n!=null&&n.width!=null?n.width:200,f=n!=null&&n.maxWidth!=null?n.maxWidth:585,k=n!=null&&n.maxWidthOverride!=null?n.maxWidthOverride:!1,d=n!=null&&n.isDraggable!=null?n.isDraggable:!1,g=n!=null&&n.src!=null?n.src:null,ut=n!=null&&n.setParentZIndex!=null?n.setParentZIndex:!0,ft=n!=null&&n.centerOnPage!=null?n.centerOnPage:!0,c=n!=null&&n.btnCloseElement!=null?$(n.btnCloseElement):null,nt=n!=null&&n.btnSubmitElement!=null?n.btnSubmitElement:null,et=n!=null&&n.submitOnEnter!=null?n.submitOnEnter:!0,ot=n!=null&&n.hideProcessingBar!=null?n.hideProcessingBar:!0,st=n!=null&&n.hideValidationMessages!=null?n.hideValidationMessages:!0,ht=n!=null&&n.hideActionMessage!=null?n.hideActionMessage:!0,r=n.parentElement,e=n.height,ct=n!=null&&n.maxHeightOverride!=null?n.maxHeightOverride:!1,lt=n.duration,l=n!=null&&n.hideCloseBtn!=null?n.hideCloseBtn:!1,at=n!=null&&n.hideCloseSecondaryBtn!=null?n.hideCloseSecondaryBtn:!0,vt=n!=null&&n.createNew!=null?n.createNew:!1,yt=n!=null&&n.skipFocus!=null?n.skipFocus:!1,s=n.onClose,tt=n.focusid,pt=n!=null&&n.padding!=null?n.padding:15;if((i==null||isNaN(i)||i<=0)&&(i=200),t=$(this).parents("."+POPUP_OUTER_DIV_CLASS),u=520,t.length==0||vt==!0){var wt="divEzPopup"+lightboxHelper.GetIdUniqueSuffix()+Math.floor(Math.random()*11),bt="img"+lightboxHelper.GetIdUniqueSuffix(),a=CLOSE_ANCHOR_ID+lightboxHelper.GetIdUniqueSuffix();t=$("<div/>",{id:wt,"class":POPUP_OUTER_DIV_CLASS+" popup",width:i,title:"",tabindex:-1,role:"dialog"});l||(v=$("<div/>").css({position:"absolute",right:"-15px",top:"-13px","z-index":"9999999"}),p=$("<a />",{id:a,href:"#",role:"button"}),y=$("<img />",{id:bt,src:"https://resource.alaskaair.net/-/media/Images/icons/Popup_Close_X",alt:"Close"}),p.append(y),y.attr("class",POPUP_CLOSE_BTN_CLASS),v.append(p));o=$("<div/>",{"class":POPUP_INNER_DIV_CLASS+" containerx"});t.append(o);t.append(v);(r==null||r.length==0)&&(r=$(this).parent());r.length==0&&(r=$("body"));r.length==0&&(r=$("div").first());r.append(t);t.css({background:"white","z-index":"9999998",float:"left"});ut&&t.offsetParent().css({"z-index":"9999997"});$("."+POPUP_INNER_DIV_CLASS,t).css({"background-color":"white"});e!=null&&(e>u&&!ct?(t.css({"max-height":u,overflow:"auto"}),t.css({height:u})):t.css({height:e}));i>f&&!k?t.css({width:f,"max-width":f,overflow:"auto"}):t.css({width:i});$("."+POPUP_INNER_DIV_CLASS,t).css({padding:pt+"px"});$("body").delegate("#"+a,"click",function(n){n.preventDefault();$(this).parents("."+POPUP_OUTER_DIV_CLASS).hide();var t=!1;if($("."+POPUP_OUTER_DIV_CLASS).each(function(){$(this).css("display").toLowerCase()!=="none"&&(t=!0)}),t||$.hideFormFiller(),ot&&$.hideProcessingBar(),st&&$.hideValidationMessages(),ht&&$.hideActionMessage(),s!==null&&typeof s=="function")try{s()}catch(n){}lastFocus.focus()})}else o=$("."+POPUP_INNER_DIV_CLASS,t),o.find("#closeLink").remove(),e!=null&&(e>u?(t.css({"max-height":u,overflow:"auto"}),t.css({height:u})):t.css({height:e})),i>f&&!k?t.css({width:f,"max-width":f,overflow:"auto"}):t.css({width:i});if(o.append(this),d||d==null)try{}catch(kt){}if($(c).length>0&&(at&&$(c).hide(),$(c).bind("click",function(){return $("."+POPUP_CLOSE_BTN_CLASS,t).click(),!1})),lastFocus=document.activeElement,this.show(),o.makeRoundCorner({cornerRadius:3}),g!=null&&$(g).after(t),t.hide().showEzPopup({centerOnPage:!0,duration:lt,centerOnPage:ft,baseWidth:rt}),t.css({overflow:""}),t.show(0,function(){$.showFormFiller(l==!1,s)}),h="keyup",$(this).unbind(h),$(this).bind(h,function(n){et&&n.keyCode==ENTER_KEY_CODE&&$(n.target).attr("id")!=$(nt).attr("id")&&$(nt).click()}),lightboxHelper.KeyPressedEventBound==!1&&(lightboxHelper.KeyPressedEventBound=!0,$(document).bind(h,function(n){n.keyCode==ESCAPE_KEY_CODE&&l==!1&&$("."+POPUP_CLOSE_BTN_CLASS).each(function(){$(this).parents("."+POPUP_OUTER_DIV_CLASS).css("display").toLowerCase()=="block"&&$(this).click()})})),it=$(t).find('h1, h2, h3, h4, h5, h6, [role="heading"]').first().text(),t.attr("aria-label",it),yt===!1)if(w="[aria-invalid=true]",$(w,this).length>0){$(w,this).eq(0).focus();try{$(this).scrollTop(0)}catch(kt){}}else $(".EzPopopOuter").focus();else tt&&$("#"+tt).focus();b=function(n){var i,u,r;if(n.keyCode==={TAB:9,SHIFT:16}.TAB)return(i=$(t).find(":tabbable"),u=$(t).find("iframe"),i.length>0&&u.length>0&&(i=$(u[0].contentDocument).find(":tabbable, [data-modalfocus=true]")),r=$.inArray(n.target,i),r<0)?void 0:(n.shiftKey?i[(r-1+i.length)%i.length].focus(1):i[(r+1)%i.length].focus(1),!1)};try{$(t).find("iframe")[0].contentDocument;$(t).find("iframe").load(function(){var n=$($(t).find("iframe")[0].contentDocument).find("[data-modalclose]"),i=function(){return $("#"+a).click(),!1};n.click(i);n.bind("keypress",function(n){(n.keyCode===96||n.keyCode===13)&&i()});$($(t).find("iframe")[0].contentDocument).find("body").bind("keydown",b)})}catch(kt){}return $(t).bind("keydown",b),$("body").delegate(".EzPopopOuter","keydown",function(n){n.which==9&&n.shiftKey&&n.preventDefault()}),t},jQuery.hideLightBoxes=function(){$("."+POPUP_OUTER_DIV_CLASS).hide()},jQuery.getHtml=function(n){n=n||{};var o=n.width,s=n.url,i=n.container,r=n.btnCloseElement,u=n.btnCloseElementId,h=n.btnSubmitElement,c=n.submitOnEnter,l=n.tables_forformatting,a=n.popup,f=n.completeCallback,e=n.afterCompleteCallback,t=n.attachTo,v=n.height,y=n.duration,p=n.centerOnPage,w=n!=null&&n.isDraggable!=null?n.isDraggable:!0,b=n!=null&&n.hideCloseBtn!=null?n.hideCloseBtn:!1,k=n!=null&&n.hideCloseSecondaryBtn!=null?n.hideCloseSecondaryBtn:!0;$.ajax({type:"POST",url:s,complete:function(n,s){switch(s){case"timeout":$.showActionMessage(REQUEST_TIMED_OUT,!0);break;case"error":$.showActionMessage(ERROR_ENCOUNTERED,!0);break;default:(f==null||f(n,s))&&($(i).length>0?$(i).replaceWith(n.responseText):((t==null||t.length==0)&&(t=$("div").first()),(t==null||t.length==0)&&(t=$("body")),t.after(n.responseText),i=$(i)),(r==null||$(r).length==0)&&u!=null&&u!=""&&(r=$("#"+u)),a==!0&&$(i).showLightBox({width:o,btnCloseElement:r,btnSubmitElement:h,height:v,duration:y,src:t,centerOnPage:p,isDraggable:w,hideCloseBtn:b,submitOnEnter:c,hideCloseSecondaryBtn:k}),$(l).formatEzTable({isHeaderTextBold:!0}),e!=null&&e())}}})},jQuery.showAboutDiscountCode=function(n,t){var i,o,r,s,h;typeof this.parent!="undefined"?this.parent.document.domain="alaskaair.com":typeof this.document!="undefined"?this.document.domain="alaskaair.com":typeof document!="undefined"&&(window.document.domain="alaskaair.com");var u="divAboutDC_IF",c="#"+u,f="ifrmAboutDC",l="#"+f,e=new SideDrawer("About discount codes and credits","About discount codes and credits");e.Show();i={calcDrawerContentDivHeight:function(){return $(".drawerContent").height()-$(".slider-title").height()-50},hideDrawerVScrollBar:function(){$(".rightSideDrawer .drawerContent").css("overflow-y","hidden")}};$(c).length===0&&(i.hideDrawerVScrollBar(),o="<div id='"+u+"'><iframe id='"+f+"' title='About discount codes and credits' height='"+i.calcDrawerContentDivHeight()+"px' tabindex='-1' frameborder='0' width='760' scrolling='auto' src='javascript:false;'><\/iframe><\/div>",r=document.createElement("div"),r.innerHTML=o,e.TransferContent(r));s=(top.location.protocol?top.location.protocol:"http:")+"//";h=s+asglobal.domainUrl+"/shared/tips/AboutDiscountCodes.aspx?popup=true&referrer=lightbox&code="+n+"&infantCount="+t;$(l).attr({src:h})},jQuery.showCodeOrNumberLB=function(n){$.showLB(n,"www.alaskaair.com/help/CodeOrNumber",380)},jQuery.showLB=function(n,t,i,r){var f="divLB",u="#"+f,e;$(u).length==0&&(e="<div id='"+f+"' style='display:none;overflow:auto;'><\/div>",$("body").append(e));isNaN(r)?$(u).css({height:"auto"}):$(u).css({height:r});t=top.location.protocol+"//"+t;$.ajax({url:t,success:function(t){$(u).html(t);$(u+" #Close").hide();$(u).showLightBox({src:n,width:i,maxWidthOverride:!0,centerOnPage:!0})}})},jQuery.showLB_IF=function(n,t,i,r){var f="divLB_IF",u="#"+f,e="ifrmLB_IF",o="#"+e,s;$(u).length==0&&(s="<div id='"+f+"' style='display:none;'><iframe id='"+e+"' frameborder='0' tabindex='-1' scrolling='auto' src='javascript:false;'><\/iframe><\/div>",$("body").append(s));$(u).css({width:i-40,height:r});$(o).css({width:i-40,height:r});t.substring(4,0).toLowerCase()!="http"&&(t=top.location.protocol+"//"+t);$(o).attr({src:t});$(u).showLightBox({src:n,width:i,maxWidthOverride:!0,centerOnPage:!0})},jQuery.fn.loadWidget=function(n){var r=n.url,u=n.containerSelector,t=n.callback,f=n.localCallback,e=n.doPost!=null?n.doPost:!1,o=n.getOnce!=null?n.getOnce:!0,i;return o&&$(u).length!==0?($(this).append($(u)),t()):(i=$(this),e?$.ajax({type:"POST",url:r,dataType:"json",complete:function(n){$(i).html(n.responseText);t!=null&&t();f!=null&&f()}}):$.get(r,function(n){$(i).html(n);t!=null&&t()})),this},jQuery.fn.loadVShoppingI=function(n){var t=BuildVShoppingQueryString(n,"?"),i=(top.location.protocol?top.location.protocol:"http:")+"//",r=i+asglobal.domainUrl+"/deals/flightformlet"+t;return this.html("<iframe scrolling='no' frameborder='0' src='"+r+"' title='Shopping' id='flightsFormletIframe' style='width:212px;'><\/iframe>"),this},jQuery.fn.loadVAwardShoppingI=function(n){var t=BuildVShoppingQueryString(n,"&"),i=(top.location.protocol?top.location.protocol:"http:")+"//",r=i+asglobal.domainUrl+"/deals/flightformlet?shoppingmethod=onlineaward"+t;return this.html("<iframe scrolling='no' frameborder='0' src='"+r+"' title='Award Shopping' id='awardsFormletIframe' style='width:212px;'><\/iframe>"),this},jQuery.fn.loadVShopping=function(n,t){var i=BuildVShoppingQueryString(t,"&"),r=(top.location.protocol?top.location.protocol:"http:")+"//",u=r+asglobal.domainUrl+"/deals/flightformlet?njqry=yes"+i;return $(this).loadWidget({url:u,containerSelector:WidgetContainers.Selectors.V,callback:n,doPost:!0,localCallback:function(){try{vShopping.InitializeControls()}catch(n){alert("reference to VShopping.js could be missing")}}})},jQuery.fn.loadPBShopping=function(n){var t=(top.location.protocol?top.location.protocol:"http:")+"//";return $(this).loadWidget({url:t+asglobal.domainUrl+"/planbook/ShoppingWidget?njqry=yes",containerSelector:WidgetContainers.Selectors.P,callback:n,doPost:!0})},jQuery.fn.loadPBHotel=function(n){var t=(top.location.protocol?top.location.protocol:"http:")+"//";return $(this).loadWidget({url:t+asglobal.domainUrl+"/deals/hoteloffers/HotelFormlet?njqry=yes",doPost:!1,getOnce:!0,containerSelector:WidgetContainers.Selectors.H,callback:n})},jQuery.fn.loadPBCar=function(n){var t=(top.location.protocol?top.location.protocol:"http:")+"//";return $(this).loadWidget({url:t+asglobal.domainUrl+"/planbook/CarWidget?njqry=yes",doPost:!0,getOnce:!1,containerSelector:WidgetContainers.Selectors.H,callback:n})},flightWidgetAF=new FlightWidgetAF,closeOnClickBound=!1,jQuery.fn.hideBubble=function(){return $(this).parents(".bubble-new").hide(),this},jQuery.fn.showBubble=function(n,t){return n=n||{},n.orientation=n.orientation||1,n.orientation==1||n.orientation==2?(n.pointDown=n.orientation==2,$(this).showBubbleV(n,t)):n.orientation==3||n.orientation==4?(n.pointLeft=n.orientation==3,$(this).showBubbleH(n,t)):(n.pointDown=!1,$(this).showBubbleV(n,t)),this},jQuery.fn.showBubbleV=function(n,t){function st(){return(window.location.protocol?window.location.protocol:"http:")+"//"}function vt(){var r=parseInt($(o).attr("totalWidth")),t=Math.round($(n.src).offset().left-s+$(n.src).width()/2-c/2),i=r-t;$(tt).css({width:t});$(rt).css({width:t});$("div",tt).css({width:t});$("div",rt).css({width:t});$(it).css({width:i});$(ut).css({width:i});$("div",it).css({width:i});$("div",ut).css({width:i})}function yt(){var n=new Date,t=n.getHours(),i=n.getMinutes(),r=n.getSeconds();return t+"_"+i+"_"+r+Math.floor(Math.random()*1111)}function pt(){return $(document).height()>$(window).height()?$(window).height():$(document).height()}function wt(){return $(document).width()>$(window).width()?$(window).width():$(document).width()}var bt=this,b,h,i,y,p,l,s;n=n||{};n.width=n.width!=null?n.width:200;n.offsetLeft=n.offsetLeft!=null?n.offsetLeft:0;n.pointDown=n.pointDown!=null?n.pointDown:!1;n.src==null&&(n.src=event);$(".bubble-new").hide();var w=10,v=3,c=28,e=Math.round((n.width-c)/2+(w+v)),et=e,a=e+et+c,ot=a-w*2-v,u=v+"px solid #82A3D1",r=8;b=st()+"resource.alaskaair.net";$(this).parents(".bubble-new").length==0&&(h=yt(),i='<style type="text/css">.containerx .bubble-new, .containerx .bubble-new *{margin:0;padding:0;z-index:999999999}<\/style>',i='<div class="bubble-new" id="bubble'+h+'" style="position:absolute;">',i+='   <div id="close'+h+'" class="bubble-close" style="cursor:pointer; display:none; margin-left:'+(a-10)+'px;position:absolute; width:30px; height:30px; background:url(//resource.alaskaair.net/-/media/Images/icons/Popup_Close_X) no-repeat; overflow:hidden;" tabindex="0" role="button"><span class="hidden">Close<\/span><\/div>',i+='\t<div style="clear:both;width:'+a+'px;" class="bubble-top" id="bubbletop'+h+'">',i+='\t\t<div style="float:left; width:'+e+'px;" class="bubble-top-left">',i+='           <div style="clear:both;height:15px;"><\/div><div style="background-color:white;width:'+e+"px; height:10px; border-left:"+u+";border-top:"+u+";border-top-left-radius: "+r+"px;-moz-border-radius-topleft:"+r+'px;"><\/div>',i+="\t\t<\/div>",i+='\t\t<div style="float:left; width:'+c+'px;">',i+='\t\t    <div class="bubble-pointer" style="float:left;background:no-repeat bottom; background-image:url('+b+"/-/media/Images/onSite/backgrounds/clippy_pointer_up);width:"+c+'px; height:18px;"><\/div><div style="clear:both;height:10px;background-color:white;"><\/div>',i+="\t\t<\/div>",i+='\t\t<div style="float:left; width:'+e+'px;" class="bubble-top-right">',i+='           <div style="clear:both;height:15px;"><\/div><div style="background-color:white;width:'+e+"px; height:10px; border-right:"+u+";border-top:"+u+";border-top-right-radius: "+r+"px;-moz-border-radius-topright:"+r+'px;"><\/div>',i+="\t\t<\/div>",i+="\t<\/div>",i+='\t<div class="bubble-content" style="-webkit-box-shadow: #999 3px 3px 3px;-moz-box-shadow:3px 3px 3px #999999;background-color:white;width:'+ot+"px;border-left:"+u+"; border-right:"+u+"; border-bottom:"+u+"; clear:both;border-bottom-left-radius: "+r+"px;border-bottom-right-radius: "+r+"px; padding:"+w+'px;" id="bubblecontent'+h+'">',i+="\t<\/div>",i+='\t<div style="display:none;clear:both;width:'+a+'px;" class="bubble-bottom" id="bubblebottom'+h+'">',i+='\t\t<div style="float:left; width:'+e+'px; height:15px;" class="bubble-bottom-left">',i+='           <div style="background-color:white;width:'+e+"px; height:10px; border-left:"+u+";border-bottom:"+u+";border-bottom-left-radius: "+r+"px;-moz-border-radius-bottomleft:"+r+'px;"><\/div>',i+="\t\t<\/div>",i+='\t\t<div class="bubble-pointer" style="float:left;background-color:white;background:no-repeat bottom; background-image:url('+b+"/-/media/Images/onSite/backgrounds/clippy_pointer_down);width:"+c+'px; height:27px;">&nbsp;<div style="position:absolute; margin-top:-18px; background:white;width:42px;height:10px;"><\/div><\/div>',i+='\t\t<div style="float:left; width:'+e+'px; height:15px;" class="bubble-bottom-right">',i+='           <div style="background-color:white;width:'+e+"px; height:10px; border-right:"+u+";border-bottom:"+u+";border-bottom-right-radius: "+r+"px;-moz-border-radius-bottomright:"+r+'px;"><\/div>',i+="\t\t<\/div>",i+="\t<\/div>",i+="<\/div>",$(this).before(i),$(this).css({position:"static"}),$("#bubblecontent"+h).attr({totalWidth:e*2}),$("#bubblecontent"+h).append('<div class="clear"><\/div>').append(this).append('<div class="clear"><\/div>'),$(this).show().css({"z-index":999}));$(this).parents(".bubble-new").show();$(".bubble-new").css("z-index","99999999");y=5;screen.availWidth<767&&(y=-80);p=$(n.src).offset().top;l=p+$(n.src).height()+y;l<0&&(l=0);var f=$(this).parents(".bubble-new"),k=$(".bubble-close",f),g=$(".bubble-top",f),nt=$(".bubble-bottom",f),o=$(".bubble-content",f),tt=$(".bubble-top-left",f),it=$(".bubble-top-right",f),rt=$(".bubble-bottom-left",f),ut=$(".bubble-bottom-right",f),d=f.height(),ht=l+d,ct=p-d,lt=$(document).scrollTop()+pt(),ft=$(document).scrollLeft()+wt(),at=n.pointDown&&ct>$(document).scrollTop()||ht>lt;return at?(l=p-d+y,$(o).css({"border-bottom":"none","border-top":u}),$(o).css({"border-top-left-radius":r,"border-top-right-radius":r}),$(o).css({"border-bottom-left-radius":0,"border-bottom-right-radius":0}),$(o).css({"-moz-border-radius-topleft":r,"-moz-border-radius-topright":r}),$(o).css({"-moz-border-radius-bottomleft":0,"-moz-border-radius-bottomright":0}),$(nt).show(),$(g).hide(),$(k).css({"margin-top":-10})):($(o).css({"border-top":"none","border-bottom":u}),$(o).css({"border-bottom-left-radius":r,"border-bottom-right-radius":r}),$(o).css({"border-top-left-radius":0,"border-top-right-radius":0}),$(o).css({"-moz-border-radius-bottomleft":r,"-moz-border-radius-bottomright":r}),$(o).css({"-moz-border-radius-topleft":0,"-moz-border-radius-topright":0}),$(nt).hide(),$(g).show(),$(k).css({"margin-top":5})),s=Math.round($(n.src).offset().left+$(n.src).width()/2-a/2+v)+n.offsetLeft,s<0&&(s=0),s<$(document).scrollLeft()&&(s=$(document).scrollLeft()),s+f.width()>ft&&(s=Math.round(ft-f.width())),vt(),window.innerWidth<800&&(s=s-5),$(f).css({top:l,left:s}).show(),generateBubbleEvents(t,n,this,f,k),this},jQuery.fn.showBubbleH=function(n,t){function ht(){var n=new Date,t=n.getHours(),i=n.getMinutes(),r=n.getSeconds();return t+"_"+i+"_"+r+Math.floor(Math.random()*1111)}function b(){return $(document).height()>$(window).height()?$(window).height():$(document).height()}function ct(){return $(document).width()>$(window).width()?$(window).width():$(document).width()}var f,i,c,v;n=n||{};n.width=n.width!=null?n.width:200;n.height=n.height!=null?n.height:200;n.offsetLeft=n.offsetLeft!=null?n.offsetLeft:0;n.pointLeft=n.pointLeft!=null?n.pointLeft:!1;n.src==null&&(n.src=event);$(".bubble-new").hide();$(this).parents(".bubble-ltr").length===0&&(f=ht(),i="",i+='<style type="text/css">',i+="    .containerx .left{float:left;}",i+="    .containerx .bgwhite{background:white;}",i+="    .containerx .bubble-new{position:absolute; z-index: 9999999;}",i+="    .containerx .bubble-width15{width:15px;}",i+="    .containerx .bubble-width10{width:10px;}",i+="    .containerx .bubble-r_topleft{border-left:solid 3px #82A3D1;border-top:solid 3px #82A3D1;border-top-left-radius: 6px;-moz-border-radius-topleft:6px;}",i+="    .containerx .bubble-r_bottomleft{border-left:solid 3px #82A3D1;border-bottom:solid 3px #82A3D1;border-bottom-left-radius: 6px;-moz-border-radius-bottomleft:6px;}",i+="    .containerx .bubble-r_topright{border-right:solid 3px #82A3D1;border-top:solid 3px #82A3D1;border-top-right-radius: 6px;-moz-border-radius-topright:6px;}",i+="    .containerx .bubble-r_bottomright{border-right:solid 3px #82A3D1;border-bottom:solid 3px #82A3D1;border-bottom-right-radius: 6px;-moz-border-radius-bottomright:6px;}",i+="    .containerx .bubble-content{border-top:solid 3px #82A3D1;border-bottom:solid 3px #82A3D1; padding:0px;}",i+="    .containerx .bubble-shadow{-webkit-box-shadow: #999 3px 3px 3px;-moz-box-shadow:3px 3px 3px #999999}",i+="<\/style>",i+='<div class="bubble-new bubble-ltr">',i+='    <div id="close'+f+'" class="bubble-close" style="text-align:left; clear:both; cursor:pointer; display:none; margin-top:-10px; width:'+(parseInt(n.width)+54)+'px;position:absolute; left:0;height:30px; background:url(//resource.alaskaair.net/-/media/Images/icons/Popup_Close_X) no-repeat center right; overflow:hidden;" tabindex="0" role="button"><span class="hidden">Close<\/span><\/div>',i+='    <div class="left buble-left">',i+='        <div style="clear:both;" class="bubble_lt" id="bubble_lt'+f+'">',i+='\t        <div class="bubble-width15 left" style="height:50px;">&nbsp;<\/div>',i+='\t        <div class="bubble-width10 bubble-r_topleft left bgwhite" style="height:50px;">&nbsp;<\/div>',i+="        <\/div>",i+='        <div style="clear:both;" class="bubble_lc" id="bubble_lc'+f+'">',i+='\t        <div class="left" style="background:url(//resource.alaskaair.net/-/media/Images/onSite/backgrounds/clippy_pointer_left) no-repeat center right; width:18px; height:30px;"><\/div>',i+='\t        <div class="bubble-width10 left bgwhite"><\/div>',i+="        <\/div>",i+='        <div style="clear:both;" class="bubble_lb" id="bubble_lb'+f+'">',i+='\t        <div class="bubble-width15 left" style="height:50px;">&nbsp;<\/div>',i+='\t        <div class="bubble-width10 bubble-r_bottomleft left bgwhite" style="height:50px;">&nbsp;<\/div>',i+="        <\/div>",i+="    <\/div>",i+='    <div class="left bubble-content bgwhite bubble-shadow" style="height:130px; width:100px;" id="bubble_content'+f+'">',i+="    <\/div>",i+='    <div class="left buble-right">',i+='        <div style="clear:both;" class="bubble_rt" id="bubble_rt'+f+'">',i+='\t        <div class="bubble-width10 bubble-r_topright left bgwhite bubble-shadow" style="height:50px;">&nbsp;<\/div>',i+='\t        <div class="bubble-width15 left" style="height:50px;">&nbsp;<\/div>',i+="        <\/div>",i+='        <div style="clear:both;" class="bubble_rc" id="bubble_rc'+f+'">',i+='\t        <div class="bubble-width10 left bgwhite">&nbsp;<\/div>',i+='\t        <div class="left bgwhite" style="background:url(//resource.alaskaair.net/-/media/Images/onSite/backgrounds/clippy_pointer_left) no-repeat center right; width:18px; height:30px;-moz-transform: scaleX(-1);-o-transform: scaleX(-1);-webkit-transform: scaleX(-1);transform: scaleX(-1);filter: FlipH;-ms-filter: \'FlipH\';"><\/div>',i+="        <\/div>",i+='        <div style="clear:both;" class="bubble_rb" id="bubble_rb'+f+'">',i+='\t        <div class="bubble-width10 bubble-r_bottomright left bgwhite bubble-shadow" style="height:50px;">&nbsp;<\/div>',i+='\t        <div class="bubble-width15 left" style="height:50px;">&nbsp;<\/div>',i+="        <\/div>",i+="    <\/div>",i+="<\/div>",$(this).before(i),$(this).css({position:"static"}),$("#bubble_content"+f).append('<div class="clear">&nbsp;<\/div>').append(this).append('<div class="clear">&nbsp;<\/div>'),$(this).show().css({"z-index":999}),c=$(this).parents(".bubble-ltr"),c.css({width:n.width+60}),c.show().attr({height:c.height()}));var l=n.pointLeft,r=$(this).parents(".bubble-ltr"),tt=$(".bubble-close",r),it=$(".bubble_lt",r),rt=$(".bubble_lc",r),ut=$(".bubble_lb",r),lt=$(".bubble-left",r),ft=$(".bubble-content",r),at=$(".bubble-left",r),et=$(".bubble_rt",r),ot=$(".bubble_rc",r),st=$(".bubble_rb",r),y=0,o=0,k=0,p=0,s=0,d=0,e=28,g=3,nt=n.height+2*g,h=$(n.src).offset().top+Math.round($(n.src).height()/2),a=$(n.src).offset().left,w=0,u=h-Math.round(n.height/2)-2*g;u<0&&(u=0);u<$(document).scrollTop()&&(u=$(document).scrollTop());u+nt>$(document).scrollTop()+b()&&(u=$(document).scrollTop()+b()-nt);u<0&&(u=0);u+Math.round(e/2)>h&&(u-=Math.round(e/2));h+Math.round(e/2)>$(document).scrollTop()+b()&&(u+=e);l==!0&&a+$(n.src).width()+r.width()>$(document).scrollLeft()+ct()&&(l=!1);a-n.width-$(n.src).width()<$(document).scrollLeft()&&(l=!0);l==!0?(w=a+$(n.src).width(),o=e,s=0):(o=0,s=e,w=a-r.width());v=n.height;y=h-u-o/2;k=v-y-o;p=h-u-s/2;d=v-p-s;ft.css({height:v,width:n.width});$("div",it).css({height:y});$("div",ut).css({height:k});$("div",rt).css({height:o});$("div",et).css({height:p});$("div",st).css({height:d});$("div",ot).css({height:s});r.css({top:u,left:w});$(this).parents(".bubble-new").show();generateBubbleEvents(t,n,this,r,tt,2)},typeof as!="undefined"&&as.IsIntentMediaDown==!1&&(as.intentMediaPixel=new IntentMediaPixel),AS=window.AS||{},AS.AlertDialog=function(n,t,i){this.title=n;this.message=t;this.isConfirmDialog;this.divElement=document.createElement("div");this.divElement.setAttribute("role","dialog");this.divElement.setAttribute("aria-label",n+", "+t);this.divElement.tabIndex=0;this.divElement.classList.add("confirm-dialog-container");this.hasRadioGroup=!1;this.previousElement=null;this.focusHandler=null;this.elementsHiddenOnOpen=null;this.callback=i},AS.AlertDialog.prototype.Close=function(n){var r,i,t;if(document.body.style.overflow="auto",this.hasRadioGroup)for(i=this.divElement.querySelectorAll("input[name=alertDialogRadio]"),t=0;t<i.length;t+=1)i[t].checked&&(r=i[t].value);for(document.body.removeChild(this.divElement),this.previousElement&&this.previousElement.focus(),this.focusHandler&&(document.removeEventListener("focus",this.focusHandler),this.focusHandler=null),t=0;t<this.elementsHiddenOnOpen;t+=1)this.elementsHiddenOnOpen[t].removeAttribute("aria-hidden");this.elementsHiddenOnOpen=null;this.callback&&this.callback(n);this.onclose(n,r)},AS.AlertDialog.prototype.Confirm=function(){var n=this.divElement.querySelector(".btn-primary");n.getAttribute("disabled")!=="true"&&this.Close(!0)},AS.AlertDialog.prototype.Cancel=function(){this.Close(!1)},AS.AlertDialog.prototype.AttachEvents=function(){var u,t,i,r,n;if(this.focusHandler=this.HandleFocusChange.bind(this),document.addEventListener("focus",this.focusHandler,!0),u=this.divElement.querySelector(".btn-primary"),t=this.divElement.querySelector(".btn-secondary"),u.onclick=this.Confirm.bind(this),t&&(t.onclick=this.Cancel.bind(this)),this.divElement.onkeydown=function(n){var r=n||window.event,u=n.keyCode||n.which,t,i;if(u===27)this.Cancel();else if(u===9&&(t=$(this.divElement).find(":focusable"),i=!1,r.shiftKey?document.activeElement===this.divElement&&(t[t.length-1].focus(),i=!0):t[t.length-1]===document.activeElement&&(this.divElement.focus(),i=!0),i))return r.preventDefault&&r.preventDefault(),!1;return!0}.bind(this),this.hasRadioGroup)for(i=this.divElement.querySelector(".btn-primary"),i.classList.add("disabled"),i.setAttribute("disabled","true"),r=this.divElement.querySelectorAll("input[name=alertDialogRadio]"),n=0;n<r.length;n+=1)r[n].onclick=this.HandleRadioGroupSelection.bind(this)},AS.AlertDialog.prototype.HandleRadioGroupSelection=function(){var n=this.divElement.querySelector(".btn-primary");n.classList.remove("disabled");n.removeAttribute("disabled")},AS.AlertDialog.prototype.HandleFocusChange=function(n){var t=n||window.event;if(!this.divElement.contains(t.target))return t.stopPropagation(),this.divElement.focus(),!1},AS.AlertDialog.prototype.onclose=function(){},AS.AlertDialog.prototype.SetConfirmDialog=function(n){this.isConfirmDialog=n},AS.AlertDialog.prototype.Show=function(n,t){var u,i;t=t||{};this.SetConfirmDialog(n);this.previousElement=document.activeElement;var f=t.acceptText||(this.isConfirmDialog?"Okay":"Close"),e=t.cancelText||"Cancel",o=t.autoSize||!1,r='<div class="confirm-dialog-background"><\/div>';if(r+='<div class="confirm-dialog'+(o?" autosize":"")+'">',this.title&&(r+="<h2>"+this.title+"<\/h2>"),r+='<div class="confirm-dialog-content">',this.message&&(r+="<p>"+this.message+"<\/p>"),t.radioGroup){this.hasRadioGroup=!0;for(u in t.radioGroup)r+='<label><input type="radio" name="alertDialogRadio" value="'+u+'" /> '+t.radioGroup[u]+"<\/label>"}for(r+="<\/div>",r+='<div class="confirm-dialog-actions">',r+='<button class="btn btn-primary">'+f+"<\/button>",this.isConfirmDialog&&(r+='<button class="btn btn-secondary">'+e+"<\/button>"),r+="<\/div>",r+="<\/div>",this.divElement.innerHTML=r,document.body.appendChild(this.divElement),this.AttachEvents(),this.elementsHiddenOnOpen=[],i=this.divElement.nextElementSibling;i;)i.getAttribute("aria-hidden")||(i.setAttribute("aria-hidden","true"),this.elementsHiddenOnOpen.push(i)),i=i.nextElementSibling;for(i=this.divElement.previousElementSibling;i;)i.getAttribute("aria-hidden")||(i.setAttribute("aria-hidden","true"),this.elementsHiddenOnOpen.push(i)),i=i.previousElementSibling;this.PositionDialogBox();this.divElement.focus()},AS.AlertDialog.prototype.PositionDialogBox=function(){var u=$(".confirm-dialog-background"),f=$(".confirm-dialog-container"),i=$(".confirm-dialog"),n,t,r;f.removeClass("container-for-tall-dialog");u.length>0&&u.css("display").toLowerCase()!=="none"?i.hasClass("autosize")?(f.addClass("container-for-tall-dialog"),n=i.outerHeight(),t=$(window).height(),document.body.style.overflow=t>n?"hidden":"auto",r=0,t>n&&(r=(t-n)/2),i.css("top",r),document.documentElement.scrollTop=document.body.scrollTop=0):document.body.style.overflow="hidden":document.body.style.overflow="auto"},$(document).ready(function(){$(window).resize(function(){AS.AlertDialog.prototype.PositionDialogBox()})}),String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return t=t||0,this.substr(t,n.length)===n}),datepicker.prototype.setActiveDate=function(n){n>this.maxDate?n=this.maxDate:n<this.minDate&&(n=this.minDate);this.dateObj=n;this.year=this.dateObj.getFullYear();this.month=this.dateObj.getMonth();this.date=this.dateObj.getDate();this.currentDate=this.year===this.curYear&&this.month===this.curMonth;this.setMonthDropdown();this.$grid.attr("aria-activedescendant","day"+this.date);this.popGrid()},datepicker.prototype.setMonthDropdown=function(){for(var n=this.minDate,t='<select id="month-dropdown" tabindex="0" aria-label="Jump to month">';n<=this.maxDate;){var i=n.getMonth(),r=n.getFullYear(),u="";i===this.month&&r===this.year&&(u=' selected="selected"');t+='<option value="'+n.toString()+'"'+u+">"+this.shortMonthNames[i]+" "+r+"<\/option>";n=new Date(n.getFullYear(),n.getMonth()+1,1)}t+="<\/select>";this.$monthObj.html(t);this.$monthLabel.html(this.monthNames[this.month]+" "+this.year)},datepicker.prototype.getTarget=function(n){return $("#"+n)},datepicker.prototype.setTarget=function(n){this.$target=$("#"+n)},datepicker.prototype.setMinDate=function(n){this.minDate=n;this.popGrid()},datepicker.prototype.setMaxDate=function(n){this.maxDate=n;this.popGrid()},datepicker.prototype.setCloseCb=function(n){this.closeCb=n},datepicker.prototype.popGrid=function(){var e=this.calcNumDays(this.year,this.month),v=this.calcStartWeekday(this.year,this.month),t=0,n=1,o=1,s=this.$grid.find("tbody"),i='\t<tr role="row">\n',f,a;for(s.empty(),$("#msg").empty(),t=0;t<v;t++)i+='\t\t<td class="empty">&nbsp;<\/td>\n';var h=this.isMinMonth(),c=this.isMaxMonth(),r=this.maxDate.getDate(),u=this.minDate.getDate(),l=this.$grid.attr("aria-activedescendant");for(l&&(f=parseInt(l.replace(/day/,""),10),h&&f<u?(this.date=u,this.$grid.attr("aria-activedescendant","day"+u)):c&&f>r&&(this.date=r,this.$grid.attr("aria-activedescendant","day"+r))),n=1;n<=e;n++)a=h&&n<u||c&&n>r,i+=a?'\t\t<td id="day'+n+'" class="disabled"':n===this.date&&this.currentDate===!0?'\t\t<td id="day'+n+'" class="today"':'\t\t<td id="day'+n+'"',i+=' headers="'+this.dayNames[t]+'" role="gridcell" aria-selected="false">'+n+"<\/td>",t===6&&n<e?(i+='\t<\/tr>\n\t<tr id="row'+o+'" role="row">\n',o++,t=0):t++;for(t;t<7;t++)i+='\t\t<td class="empty">&nbsp;<\/td>\n';i+="\t<\/tr>";s.append(i)},datepicker.prototype.calcNumDays=function(n,t){return 32-new Date(n,t,32).getDate()},datepicker.prototype.calcStartWeekday=function(n,t){return new Date(n,t,1).getDay()},datepicker.prototype.isMinMonth=function(){var n=this.minDate.getFullYear();return this.year<n||this.year===n&&this.month<=this.minDate.getMonth()?!0:!1},datepicker.prototype.isMaxMonth=function(){var n=this.maxDate.getFullYear();return this.year>n||this.year===n&&this.month>=this.maxDate.getMonth()?!0:!1},datepicker.prototype.disablePrevBtn=function(n){this.$prev[n?"addClass":"removeClass"]("disabled")},datepicker.prototype.disableNextBtn=function(n){this.$next[n?"addClass":"removeClass"]("disabled")},datepicker.prototype.updateButtons=function(){this.disablePrevBtn(this.isMinMonth());this.disableNextBtn(this.isMaxMonth())},datepicker.prototype.showPrevMonth=function(n){if(this.isMinMonth())return!1;if(this.month===0?(this.month=11,this.year--):this.month--,this.currentDate=this.month!==this.curMonth||this.year!==this.curYear?!1:!0,this.popGrid(),this.setMonthDropdown(),n!=null){var i=this.calcNumDays(this.year,this.month),t="day"+(i-n);this.$grid.attr("aria-activedescendant",t);$("#"+t).addClass("focus").attr("aria-selected","true")}this.updateButtons()},datepicker.prototype.showNextMonth=function(n){if(this.isMaxMonth())return!1;if(this.month===11?(this.month=0,this.year++):this.month++,this.currentDate=this.month!==this.curMonth||this.year!==this.curYear?!1:!0,this.popGrid(),this.setMonthDropdown(),n!=null){var t="day"+n;this.$grid.attr("aria-activedescendant",t);$("#"+t).addClass("focus").attr("aria-selected","true")}this.updateButtons()},datepicker.prototype.showPrevYear=function(){this.year--;this.isMinMonth()&&(this.month=this.minDate.getMonth(),this.year=this.minDate.getFullYear());this.currentDate=this.month!==this.curMonth||this.year!==this.curYear?!1:!0;this.popGrid();this.setMonthDropdown();this.updateButtons()},datepicker.prototype.showNextYear=function(){this.year++;this.isMaxMonth()&&(this.month=this.maxDate.getMonth(),this.year=this.maxDate.getFullYear());this.currentDate=this.month!==this.curMonth||this.year!==this.curYear?!1:!0;this.popGrid();this.setMonthDropdown();this.updateButtons()},datepicker.prototype.bindHandlers=function(){var n=this;this.$prev.click(function(t){return n.handlePrevClick(t)});this.$next.click(function(t){return n.handleNextClick(t)});this.$prev.keydown(function(t){return n.handlePrevKeyDown(t)});this.$next.keydown(function(t){return n.handleNextKeyDown(t)});this.$id.delegate("#month-dropdown","change",function(t){if(t.which===n.keys.down)return!0;var i=new Date($(this).val());n.setActiveDate(i);$("#month-dropdown").focus()});this.$grid.keydown(function(t){return n.handleGridKeyDown(t)});this.$grid.keypress(function(t){return n.handleGridKeyPress(t)});this.$grid.focus(function(t){return n.handleGridFocus(t)});this.$grid.blur(function(t){return n.handleGridBlur(t)});this.$grid.delegate("td","click",function(t){return n.handleGridClick(this,t)})},datepicker.prototype.handlePrevClick=function(n){n.ctrlKey?this.showPrevYear():this.showPrevMonth();var t=this.$grid.attr("aria-activedescendant");return this.currentDate===!1?this.$grid.attr("aria-activedescendant","day1"):this.$grid.attr("aria-activedescendant",t),n.stopPropagation(),!1},datepicker.prototype.handleNextClick=function(n){n.ctrlKey?this.showNextYear():this.showNextMonth();var t=this.$grid.attr("aria-activedescendant");return this.currentDate===!1?this.$grid.attr("aria-activedescendant","day1"):this.$grid.attr("aria-activedescendant",t),n.stopPropagation(),!1},datepicker.prototype.handlePrevKeyDown=function(n){if(n.altKey)return!0;switch(n.keyCode){case this.keys.tab:return this.bModal===!1||!n.shiftKey||n.ctrlKey?!0:(this.$grid.focus(),n.stopPropagation(),!1);case this.keys.enter:case this.keys.space:return n.shiftKey?!0:(n.ctrlKey?this.showPrevYear():this.showPrevMonth(),n.stopPropagation(),!1)}return!0},datepicker.prototype.handleNextKeyDown=function(n){if(n.altKey)return!0;switch(n.keyCode){case this.keys.enter:case this.keys.space:return n.ctrlKey?this.showNextYear():this.showNextMonth(),n.stopPropagation(),!1}return!0},datepicker.prototype.handleGridKeyDown=function(n){var h=this.$grid.find("tbody tr"),r=$("#"+this.$grid.attr("aria-activedescendant")),u=this.$grid.find("td").not(".empty"),c=r.parent(),o,t,i,f,s,e;if(n.altKey)return!0;switch(n.keyCode){case this.keys.tab:if(this.bModal===!0)return n.shiftKey?this.$next.focus():this.$prev.focus(),n.stopPropagation(),!1;break;case this.keys.enter:case this.keys.space:if(n.ctrlKey)return!0;this.setDate(r);case this.keys.esc:return this.hideDlg(n.keyCode===this.keys.esc),n.stopPropagation(),!1;case this.keys.left:if(n.ctrlKey||n.shiftKey)return!0;if(t=u.index(r)-1,i=null,t>=0){if(i=u.eq(t),i.hasClass("disabled"))return!1;r.removeClass("focus").attr("aria-selected","false");i.addClass("focus").attr("aria-selected","true");this.$grid.attr("aria-activedescendant",i.attr("id"))}else this.showPrevMonth(0);return n.stopPropagation(),!1;case this.keys.right:if(n.ctrlKey||n.shiftKey)return!0;if(t=u.index(r)+1,o=null,t<u.length){if(o=u.eq(t),o.hasClass("disabled"))return!1;r.removeClass("focus").attr("aria-selected","false");o.addClass("focus").attr("aria-selected","true");this.$grid.attr("aria-activedescendant",o.attr("id"))}else this.showNextMonth(1);return n.stopPropagation(),!1;case this.keys.up:if(n.ctrlKey||n.shiftKey)return!0;if(t=u.index(r)-7,i=null,t>=0){if(i=u.eq(t),i.hasClass("disabled"))return!1;r.removeClass("focus").attr("aria-selected","false");i.addClass("focus").attr("aria-selected","true");this.$grid.attr("aria-activedescendant",i.attr("id"))}else t=6-u.index(r),this.showPrevMonth(t);return n.stopPropagation(),!1;case this.keys.down:if(n.ctrlKey||n.shiftKey)return!0;if(t=u.index(r)+7,i=null,t<u.length){if(i=u.eq(t),i.hasClass("disabled"))return!1;r.removeClass("focus").attr("aria-selected","false");i.addClass("focus").attr("aria-selected","true");this.$grid.attr("aria-activedescendant",i.attr("id"))}else t=8-(u.length-u.index(r)),this.showNextMonth(t);return n.stopPropagation(),!1;case this.keys.pageup:return(f=this.$grid.attr("aria-activedescendant"),n.shiftKey)?!0:(n.ctrlKey?this.showPrevYear():this.showPrevMonth(),this.isMinMonth()&&(f="day"+this.minDate.getDate(),this.$grid.attr("aria-activedescendant",f)),$("#"+f).attr("id")===undefined?(e="day"+this.calcNumDays(this.year,this.month),$("#"+e).addClass("focus").attr("aria-selected","true")):$("#"+f).addClass("focus").attr("aria-selected","true"),n.stopPropagation(),!1);case this.keys.pagedown:return(f=this.$grid.attr("aria-activedescendant"),n.shiftKey)?!0:(n.ctrlKey?this.showNextYear():this.showNextMonth(),this.isMaxMonth()&&(f="day"+this.maxDate.getDate(),this.$grid.attr("aria-activedescendant",f)),$("#"+f).attr("id")===undefined?(e="day"+this.calcNumDays(this.year,this.month),$("#"+e).addClass("focus").attr("aria-selected","true")):$("#"+f).addClass("focus").attr("aria-selected","true"),n.stopPropagation(),!1);case this.keys.home:return n.ctrlKey||n.shiftKey?!0:(r.removeClass("focus").attr("aria-selected","false"),s="day1",this.isMinMonth()&&(s="day"+this.minDate.getDate()),$("#"+s).addClass("focus").attr("aria-selected","true"),this.$grid.attr("aria-activedescendant",s),n.stopPropagation(),!1);case this.keys.end:return n.ctrlKey||n.shiftKey?!0:(r.removeClass("focus").attr("aria-selected","false"),e="day"+this.calcNumDays(this.year,this.month),this.isMaxMonth()&&(e="day"+this.maxDate.getDate()),$("#"+e).addClass("focus").attr("aria-selected","true"),this.$grid.attr("aria-activedescendant",e),n.stopPropagation(),!1)}return!0},datepicker.prototype.handleGridKeyPress=function(n){if(n.altKey)return!0;switch(n.keyCode){case this.keys.tab:case this.keys.enter:case this.keys.space:case this.keys.esc:case this.keys.left:case this.keys.right:case this.keys.up:case this.keys.down:case this.keys.pageup:case this.keys.pagedown:case this.keys.home:case this.keys.end:return n.stopPropagation(),!1}return!0},datepicker.prototype.handleGridClick=function(n,t){var i=$(n),r,u,f;return i.is(".empty")||i.is(".disabled")?!0:(r=i.attr("id"),this.$grid.find(".active").removeClass("active").attr("aria-selected","false"),i.addClass("active").attr("aria-selected","true"),this.$grid.attr("aria-activedescendant",r),u=$("#"+r),this.setDate(u),this.hideDlg(),t.stopPropagation(),f=this.$target.attr("next-id"),$("#"+f).focus().click(),!1)},datepicker.prototype.setDate=function(n){this.$target.val(this.month+1+"/"+n.html()+"/"+(this.year-2e3));this.$target.trigger("change");this.handleDateSelection(n.html())},datepicker.prototype.handleGridFocus=function(){var n=this.$grid.attr("aria-activedescendant"),t;return $("#"+n).attr("id")===undefined?(t="day"+this.calcNumDays(this.year,this.month),$("#"+t).addClass("focus").attr("aria-selected","true")):$("#"+n).addClass("focus").attr("aria-selected","true"),!0},datepicker.prototype.handleGridBlur=function(){return $("#"+this.$grid.attr("aria-activedescendant")).removeClass("focus").attr("aria-selected","false"),!0},datepicker.prototype.handleDateSelection=function(n){return this.date=n,this.$grid.find(".selected").removeClass("selected"),this.$grid.find(".focus").removeClass("focus"),$("#day"+n).addClass("selected"),!0},datepicker.prototype.showDlg=function(){var t=this,n;this.isVisible=!0;this.isGridClick=!1;this.$id.bind("click",function(){t.isGridClick=!0});$(document).bind("click",{asDatepicker:this},this.documentClick);this.$grid.bind("mouseover",function(){t.$grid.find("focus").removeClass("focus")});this.popGrid();this.$id.attr("aria-hidden","false");this.$grid.focus();n=new Date(this.$target.val());isNaN(n.getTime())||($("#day"+n.getDate()).addClass("focus"),this.handleDateSelection(n.getDate()))},datepicker.prototype.documentClick=function(n){var t=n.data.asDatepicker;if(t.isGridClick)t.isGridClick=!1;else return t.hideDlg(!1,!0),!1},datepicker.prototype.hideDlg=function(n,t){this.isVisible=!1;$(document).unbind("click",this.documentClick);this.$grid.unbind("mouseover");this.$id.unbind("click");this.$id.attr("aria-hidden","true");n||!this.closeCb||t||this.closeCb();t||this.$target.focus()},flightDateChangeCallback=function(n){var f=$(n.srcElement||n.target),e=new DateFilter,t=e(f.val()),u,i,o,s,r,h,c;if(t!==null)for(u=t.getMonth()+1+"/"+t.getDate()+"/"+(t.getFullYear()-2e3),f.val(u),i=f.attr("id"),(i==="departureDate"||i==="departureDate1")&&(o=$("#returnDate"),s=e(o.val()),(!s||t>=s)&&o.val(u)),r=i==="depatureDate"?1:parseInt(i.substr(i.length-1,1),10),r;r<5;r+=1)h=$("#departureDate"+r),c=e(h.val()),(!c||t>=c)&&h.val(u)},datePickerInit=new DatePickerInit,$(document).ready(function(){var n=$(".input-validation-error").first().attr("id");n!=""&&$("#"+n).hasClass("as-datepicker")?datePickerInit.init("body","DepartureDate1",flightDateChangeCallback,n):datePickerInit.init("body","DepartureDate1",flightDateChangeCallback)}),typeof as!="undefined"&&as.IsSessionTimeoutDown===!1&&(as.stnw=function(){var n={lastCoords:{},pageSourceType:{Standalone:"Standalone",ConsideredAsPurchaseFunnel:"ConsideredAsPurchaseFunnel",ConsideredAsViewReservation:"ConsideredAsViewReservation",ConsideredAsAvailability:"ConsideredAsAvailability",ConsideredAsReissueAvailability:"ConsideredAsReissueAvailability"},pageSource:"Standalone",nlastContinueClick:0,nlastContinueClickCookie:0,done_callback:function(){},timeoutStart:function(){},RedirectURL:"",UserType:"Anonymous",ajaxTimeout:3e3,bForceStartTimer:!1,UserTypeAndRedirectUrlEnum:{AnonymousUser:{UserType:"Anonymous",RedirectURL:""},MAAUser:{UserType:"MAAUser",RedirectURL:"https://www.alaskaair.com/account/handlesignout"},EZBUser:{UserType:"EZBUser",RedirectURL:"https://easybiz.alaskaair.com/signin?advise=eSessionTimeout"},EZBSuperUser:{UserType:"EZBSuperUser",RedirectURL:""},TravelAgent:{UserType:"TravelAgent",RedirectURL:""}},isLightboxOpen:!1,configType:{Default:"DEFAULT",Overridden:"OVERRIDDEN"},isConfigSet:"DEFAULT",isValidTimeout:!0,Done_Message:function(){return"Your session expired at <b>"+(new Date).toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")+"<\/b>"},extendSession:function(){if(n.pageSource===n.pageSourceType.ConsideredAsPurchaseFunnel){var t=$("#CheckOutExtendedTimestamp");t.length>0&&(t.data("stale")===undefined||t.data("stale")===!1)&&($("#CheckOutExpirationTimestamp").val(t.val()),t.attr("data-stale",!0),$.ajax({url:"//www.alaskaair.com/booking/signin/ExtendExpirationTimeout?t="+(new Date).getTime(),success:function(n){n&&(as.stnw.updateSessionExpiration(),t.attr("data-stale",!1).val(n))}}))}(n.pageSource===n.pageSourceType.ConsideredAsAvailability||n.pageSource===n.pageSourceType.ConsideredAsReissueAvailability)&&window.location.reload(!0);n.isValidTimeout===!0&&$.ajax({url:"//www.alaskaair.com/services/v1/myaccount/getloginstatus?t="+(new Date).getTime(),success:function(t){t.IsLoggedIn===!1&&n.bForceStartTimer===!1&&(as.stnw.updateSessionExpiration(),n.done_callback())},error:function(){n.done_callback()},timeout:n.ajaxTimeout})},showSessionTimeOutBox:function(){n.isValidTimeout===!0&&n.timings.warning_threshold_reached?($("#sessionSection").css("display")==="none"&&($("#sessionWillExpire").attr("role","alert"),$("#sessionSection").showLightBox({width:300,height:215,centerOnPage:!0,onClose:function(){as.stnw.isLightboxOpen=!1;typeof utag!="undefined"&&utag.link({event_name:"link_click",link_tracking:"sessionExpiring::Close"});as.stnw.setCookieByKey("nlastContinueClick",(parseInt(as.stnw.getCookieByKey("nlastContinueClick"))+1).toString());typeof stnw_reload_callback=="function"?stnw_reload_callback():as.stnw.extendSession()}}).show(),$("#sessionSection").attr("tabindex","0").focus(),as.stnw.isLightboxOpen=!0),as.stnw.getCookieByKey("bSessionExpired")===!0&&n.isUserLoggedIn(null,as.stnw.done_callback)):$("#sessionSection").hide();$("#sessionTimeLeft").text(as.stnw.timeleft()+" seconds")},init:function(){n.startTimer=function(){var t={};t.is_settings_valid=function(){return typeof n.timings.session_timeout_in_msec!="number"?(console.log("Session timeout must be a positive number."),!1):n.timings.session_timeout_in_msec<=0?(console.log("Session timeout can't be zero or negative."),!1):typeof n.timings.session_timeout_warning_happens_in_msec()!="number"?(console.log("Session timeout warning must be a positive number."),!1):n.timings.session_timeout_warning_happens_in_msec()<=0?(console.log("Session timeout warning can't be zero or negative."),!1):n.timings.session_timeout_warning_happens_in_msec()>=n.timings.session_timeout_in_msec?(console.log("Session timeout warning must be smaller than Session timeout."),!1):!0};t.events={start:function(){n.timings.countdown_started=new Date;var i=function(){t.is_settings_valid()!=!1&&(t.events.check(),n.isValidTimeout===!0&&n.timings.session_has_timeedout==!1&&setTimeout(i,n.timings.poll_time_in_msec))};i()},check:function(){var t=n.timings.elapsed_in_msec(),i;n.timings.total_countdown_percent_complete=Math.floor(100*(t/n.timings.session_timeout_in_msec));n.timings.warning_countdown_percent_complete=Math.floor(100*((t-n.timings.session_timeout_warning_happens_in_msec())/(n.timings.session_timeout_in_msec-n.timings.session_timeout_warning_happens_in_msec())));n.timings.count++;i=t>n.timings.session_timeout_in_msec;i&&(n.timings.session_has_timeedout=!0,typeof n.done_callback!="undefined"&&n.isValidTimeout===!0&&n.done_callback());typeof n.ui_update_callback!="undefined"&&(n.timings.warning_threshold_reached=t>=n.timings.session_timeout_warning_happens_in_msec(),n.ui_update_callback(n.timings,i,n.timings.warning_threshold_reached))}};t.events.start()};n.setCookieByKey("bSessionExpired",!0);$("body").append('<div id="sessionSection" style="display:none;" tabindex="-1"><h1 id="sessionExpiring">Session Expiring<\/h1><p id="sessionWillExpire" style="visibility:visible">Your session will expire in <span id="sessionTimeLeft"><\/span><\/p><p id="sessionKeepActive">To keep your session active, select Continue.<\/p><button id="sessionContinue" class="btn btn-green pull-right">CONTINUE<\/button><\/div>');$("#sessionContinue").bind("click",function(){$.hideLightBoxes();$.hideFormFiller();as.stnw.setCookieByKey("nlastContinueClick",(parseInt(as.stnw.getCookieByKey("nlastContinueClick"))+1).toString());typeof stnw_reload_callback=="function"?stnw_reload_callback():as.stnw.extendSession()});n.ui_update_callback=function(){as.stnw.nlastContinueClick<parseInt(as.stnw.getCookieByKey("nlastContinueClick"),10)?(as.stnw.isLightboxOpen&&($.hideLightBoxes&&$.hideLightBoxes(),$.hideFormFiller&&$.hideFormFiller()),as.stnw.nlastContinueClick++,as.stnw.continueSession()):n.timings.warning_threshold_reached?n.overrideSessionTimeAndRedirectURL(n.showSessionTimeOutBox):$("#sessionSection").hide()};as.stnw.done_callback=function(){$("#sessionExpiring").text("Session Expired").css({color:"red"});$("#sessionKeepActive").css({visibility:"hidden"});$("#sessionContinue").css({visibility:"hidden"});$.ajax({url:"//www.alaskaair.com/services/v1/myaccount/logout",type:"POST",data:{t:(new Date).getDate()},success:function(){var t;$("#sessionWillExpire").html(n.Done_Message());as.stnw.clearSessionExpiration();n.pageSource===n.pageSourceType.ConsideredAsPurchaseFunnel&&(n.UserType===n.UserTypeAndRedirectUrlEnum.MAAUser.UserType||n.UserType===n.UserTypeAndRedirectUrlEnum.AnonymousUser.UserType)?($("#CheckOutExpirationTimestamp").val($("#CheckOutExpiredTimestamp").val()),t=document.getElementById("Refresh"),t&&t.click()):n.pageSource===n.pageSourceType.ConsideredAsAvailability&&(n.UserType===n.UserTypeAndRedirectUrlEnum.MAAUser.UserType||n.UserType===n.UserTypeAndRedirectUrlEnum.AnonymousUser.UserType)?($("#ShoppingExpirationTimestamp").val($("#ShoppingExpiredTimestamp").val()),t=document.getElementById("Refresh"),t&&t.click()):n.RedirectURL!==""?window.location.href=n.RedirectURL:window.location.reload()},complete:function(){localStorage.setItem("logout-event","logout_"+Math.random());n.setCookieByKey("bSessionExpired",!0);$.closeEzPopoups(!1)}})};n.overrideSessionTimeAndRedirectURL=function(t){n.isConfigSet===n.configType.Default?$.ajax({url:"//www.alaskaair.com/services/v1/myaccount/getloginstatus?t="+(new Date).getTime(),success:function(i){n.pageSource===n.pageSourceType.Standalone&&i.IsSuperUser&&(as.stnw.timings.session_timeout_in_msec=36e5,as.stnw.timings.session_timeout_warning_happens_in_msec=function(){return(3570+as.stnw.timings.grace_period_after_timer_ends_in_msec())*1e3},n.timings.warning_threshold_reached=!1);i.IsLoggedIn===!0?(as.stnw.updateSessionExpiration(),n.isValidTimeout=!0,i.IsEasyBiz===!0?(n.UserType=n.UserTypeAndRedirectUrlEnum.EZBUser.UserType,n.RedirectURL=n.UserTypeAndRedirectUrlEnum.EZBUser.RedirectURL):(n.UserType=n.UserTypeAndRedirectUrlEnum.MAAUser.UserType,n.RedirectURL===""&&window.location&&window.location.pathname.toLowerCase().indexOf("/content/")===-1&&window.location.pathname.toLowerCase()!=="/"&&(n.RedirectURL=n.UserTypeAndRedirectUrlEnum.MAAUser.RedirectURL))):(n.UserType=n.UserTypeAndRedirectUrlEnum.AnonymousUser.UserType,as.stnw.bForceStartTimer===!0?n.isValidTimeout=!0:(n.isValidTimeout=!1,n.resetCookie()));n.isConfigSet=n.configType.Overridden;t()},error:function(){}}):n.isConfigSet===n.configType.Overridden&&t()};n.isUserLoggedIn=function(t,i){$.ajax({url:"//www.alaskaair.com/services/v1/myaccount/getloginstatus?t="+(new Date).getTime(),success:function(r){n.pageSource===n.pageSourceType.Standalone&&r.IsSuperUser&&(as.stnw.timings.session_timeout_in_msec=36e5,as.stnw.timings.session_timeout_warning_happens_in_msec=function(){(3570+as.stnw.timings.grace_period_after_timer_ends_in_msec)*1e3},n.timings.warning_threshold_reached=!1);r.IsLoggedIn===!0?(as.stnw.updateSessionExpiration(),n.setCookieByKey("bSessionExpired",!1),r.IsEasyBiz===!0?(n.UserType=n.UserTypeAndRedirectUrlEnum.EZBUser.UserType,n.RedirectURL=n.UserTypeAndRedirectUrlEnum.EZBUser.RedirectURL):(n.UserType=n.UserTypeAndRedirectUrlEnum.MAAUser.UserType,n.RedirectURL===""&&window.location&&window.location.pathname.toLowerCase().indexOf("/content/")===-1&&window.location.pathname.toLowerCase()!=="/"&&(n.RedirectURL=n.UserTypeAndRedirectUrlEnum.MAAUser.RedirectURL)),(t||Function)()):(n.UserType=n.UserTypeAndRedirectUrlEnum.AnonymousUser.UserType,as.stnw.bForceStartTimer===!0?(n.setCookieByKey("bSessionExpired",!1),(t||Function)()):(i||Function)())},error:function(){n.setCookieByKey("bSessionExpired",!0)}})};n.nlastContinueClickCookie=n.getCookieByKey("nlastContinueClick");(n.nlastContinueClickCookie===""||n.nlastContinueClickCookie==="0")&&n.setCookieByKey("nlastContinueClick","0");n.setCookieByKey("nlastContinueClick",(parseInt(n.getCookieByKey("nlastContinueClick"))+1).toString());n.nlastContinueClick=parseInt(n.getCookieByKey("nlastContinueClick"))-1;typeof stnw_init_page=="function"&&stnw_init_page();as.stnw.startTimer()},timings:{count:1,poll_time_in_msec:1e3,grace_period_after_timer_ends_in_msec:5e3,session_timeout_in_msec:12e5,session_timeout_warning_happens_in_msec:function(){return(1170-this.grace_period_after_timer_ends_in_msec/1e3)*1e3},countdown_started:null,total_countdown_percent_complete:0,warning_countdown_percent_complete:0,elapsed_in_msec:function(){try{var t=n.timings.countdown_started.getTime(),i=(new Date).getTime();return i-t}catch(r){return console.log(r),0}},warning_threshold_reached:!1,session_has_timeedout:!1,is_resetting_session:!1},timeleft:function(){return Math.floor(Math.max(0,n.timings.session_timeout_in_msec-n.timings.elapsed_in_msec()-n.timings.grace_period_after_timer_ends_in_msec)/1e3)},deleteCookie:function(n,t,i){var r=new Date("January 1, 1970");document.cookie=n+"="+(i?"; path="+i:"")+(t?"; domain="+t:"")+"; expires="+r.toGMTString()},resetCookie:function(){n.nlastContinueClick=0;n.setCookieByKey("nlastContinueClick","0");n.setCookieByKey("bSessionExpired",!0)},getCookie:function(n){for(var t,r=n+"=",u=window.document.cookie.split(";"),i=0,f=u.length;i<f;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return JSON.parse(decodeURIComponent(t.substring(r.length,t.length)))}return{}},getCookieByKey:function(t){var i=n.getCookie("stnw");return i.hasOwnProperty(t)?i[t]:""},setCookieByKey:function(t,i){var u=n.getCookie("stnw"),r=new Date;u[t]=i;document.cookie="stnw="+JSON.stringify(u)+"; expires="+new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours()+2,r.getMinutes(),0).toGMTString()+"; path=/; domain=www.alaskaair.com"},resetSession:function(){n.timings.is_resetting_session||(n.timings.is_resetting_session=!0,n.timings.countdown_started=new Date,n.timings.session_has_timeedout=!1,n.timings.warning_threshold_reached=!1,n.timings.is_resetting_session=!1)},continueSession:function(){n.resetSession();typeof n.continue_callback!="undefined"&&n.continue_callback()},updateSessionExpiration:function(){var n=Date.now()+(as.stnw.timings.session_timeout_in_msec||3e4);sessionStorage.setItem("sessionExpiration",String(n))},clearSessionExpiration:function(){sessionStorage.removeItem("sessionExpiration")}};return n}()),LiteEvent=function(){function n(){this.handlers=[]}return n.prototype.on=function(n){this.handlers.push(n)},n.prototype.off=function(n){this.handlers=this.handlers.filter(function(t){return t!==n})},n.prototype.trigger=function(n){if(this.handlers)for(var t=0;t<this.handlers.length;t+=1)this.handlers[t](n)},n}(),SideDrawer=function(){function n(n,t){this.scroll=new LiteEvent;this.title=n;this.description=t}return n.prototype.IsClosed=function(){return this.isClosed},n.prototype.ContentDiv=function(){return this.contentDiv},n.prototype.Scroll=function(){return this.scroll},n.prototype.TitleHeight=function(){return this.titleHeight||(this.titleHeight=this.titleDiv.clientHeight),this.titleHeight},n.prototype.Show=function(){var t,i,n;for(this.focusOnClose=document.activeElement,this.rootDiv?(this.rootDiv.style.display="block",this.rootDiv.classList.add("rightSideDrawer")):(this.rootDiv=this.Render(),this.contentDiv=this.rootDiv.querySelector(".drawerContent-dynamic"),document.querySelector("body").appendChild(this.rootDiv)),t=document.querySelector("html"),t.style["-ms-overflow-style"]="none",t.style.overflow="hidden",this.focusHandler=this.HandleFocusChange.bind(this),this.escHandler=this.HandleEscKey.bind(this),document.addEventListener("focus",this.focusHandler,!0),document.addEventListener("keydown",this.escHandler,!0),this.contentDiv.innerHTML===""&&(i=document.createElement("div"),i.classList.add("loading-spinner"),this.contentDiv.appendChild(i)),this.elementsHiddenOnOpen=[],n=this.rootDiv.nextElementSibling;n;)n.getAttribute("aria-hidden")||(n.setAttribute("aria-hidden","true"),this.elementsHiddenOnOpen.push(n)),n=n.nextElementSibling;for(n=this.rootDiv.previousElementSibling;n;)n.getAttribute("aria-hidden")||(n.setAttribute("aria-hidden","true"),this.elementsHiddenOnOpen.push(n)),n=n.previousElementSibling;return this.rootDiv.focus(),this.isShown=!0,this.contentDiv},n.prototype.HandleEscKey=function(n){n.keyCode==27&&this.Close(n)},n.prototype.HandleClickToClose=function(n){this.Close(n)},n.prototype.HandleFocusChange=function(n){if(!this.rootDiv.contains(n.target))return n.stopPropagation(),this.rootDiv.focus(),!1},n.prototype.Close=function(n){var u,t,f,i,r;if(!this.isClosed){for(this.closeAnchor.parentElement.removeChild(this.closeAnchor);this.contentDiv.childElementCount>0;)this.contentDiv.removeChild(this.contentDiv.firstChild);for(u=document.querySelector("html"),u.style["-ms-overflow-style"]="auto",u.style.overflow="auto",this.rootDiv.classList.add("closeRightSideDrawer"),t=this.rootDiv,f=this,setTimeout(function(){t.innerHTML="";t.style.display="none";t.parentElement.removeChild(t);f.focusOnClose.focus()},300),document.removeEventListener("focus",this.focusHandler),document.removeEventListener("keydown",this.escHandler),i=0;i<this.elementsHiddenOnOpen.length;i+=1)this.elementsHiddenOnOpen[i].removeAttribute("aria-hidden");return this.elementsHiddenOnOpen=[],r=n||window.event,r.preventDefault?r.preventDefault():r.cancelBubble=!0,this.isClosed=!0,!1}},n.prototype.TransferContent=function(n){for(this.isShown||this.Show(),this.contentDiv.innerHTML="";n.childNodes.length>0;){var t=n.firstChild;n.removeChild(t);this.contentDiv.appendChild(t)}n.parentElement&&n.parentElement.removeChild(n)},n.prototype.AddClassToContent=function(n){this.contentDiv.classList.add(n)},n.prototype.RemoveClassFromContent=function(n){this.contentDiv.classList.remove(n)},n.prototype.HandleScrollEvent=function(n){var t=n||window.event;this.scroll.trigger((t.srcElement||t.target).scrollTop)},n.prototype.ForwardArrowKeys=function(){},n.prototype.HandleSiftTabOnRootDiv=function(n){if(document.activeElement===this.rootDiv){var t=n||window.event;if(t.keyCode==9&&t.shiftKey)return this.closeAnchor.focus(),t.preventDefault&&t.preventDefault(),!1}return!0},n.prototype.HandleTabKeyOnCloseAnchor=function(n){var t=n||window.event;return t.keyCode==9&&!t.shiftKey?(this.rootDiv.focus(),t.preventDefault&&t.preventDefault(),!1):!0},n.prototype.Render=function(){var n=document.createElement("div"),i,t,u,r;return n.setAttribute("aria-label",this.description),n.tabIndex=-1,n.classList.add("rightSideDrawer"),n.setAttribute("role","dialog"),n.style["-ms-overflow-style"]="auto",n.onkeydown=this.HandleSiftTabOnRootDiv.bind(this),i=document.createElement("div"),i.classList.add("drawerBackground"),n.appendChild(i),i.onclick=this.HandleClickToClose.bind(this),t=document.createElement("div"),t.classList.add("drawerContent"),this.width&&(t.style.width=this.width+"px"),n.appendChild(t),t.onscroll=this.HandleScrollEvent.bind(this),this.titleDiv=document.createElement("h2"),this.titleDiv.classList.add("slider-title"),this.titleDiv.innerHTML=this.title,t.appendChild(this.titleDiv),u=document.createElement("div"),u.classList.add("drawerContent-dynamic"),t.appendChild(u),this.closeAnchor=document.createElement("a"),this.closeAnchor.classList.add("drawerClose"),this.closeAnchor.title="Close dialog",this.closeAnchor.href="#close",this.closeAnchor.onclick=this.Close.bind(this),this.closeAnchor.onkeydown=this.HandleTabKeyOnCloseAnchor.bind(this),t.appendChild(this.closeAnchor),r=document.createElement("img"),r.alt="close",r.src="https://www.alaskaair.com/img/seatmaps/close_drawer.png",this.closeAnchor.appendChild(r),n},n.prototype.SetWidth=function(n){this.width=n},n}(),$(document).ready(function(){$("body").delegate(".side-drawer-init, .side-drawer-link","click",function(n){var t;if(n.preventDefault(),t=$(this).data("url"),t){var r=$(this).data("title"),f=$(this).data("description")||r,i=new SideDrawer(r,f),u=$(this).data("contentSelector");$(this).data("side-drawer-width")&&i.SetWidth($(this).data("side-drawer-width"));i.Show();$.ajax({url:t,success:function(n){var t=document.createElement("div"),r;u==undefined?t.innerHTML=n:(r=$(n).find(u),t.innerHTML=r.html());i.TransferContent(t)}})}})}),$(function(){$(".toggle").each(function(){$(this).attr("tabindex","0");$(this).parent().hasClass("toggle-collapsed")?$(this).attr("aria-expanded","false"):$(this).attr("aria-expanded","true")})}),$("body").delegate(".toggle","keydown",function(n){n.keyCode==13&&$(this).click()}),$("body").delegate(".toggle","click",function(n){var t=$(this).parent(),i=$(this).attr("toggle-id"),r="toggle-collapsed";return t.hasClass(r)?$(this).attr("aria-expanded","true"):(t.find(i).css("display","block"),$(this).attr("aria-expanded","false")),t.find(i).slideToggle(350),t.toggleClass(r),n.preventDefault(),!1}),$("body").delegate(".jumpscroll","click",function(n){var t=$(this).data("jumpto"),i;i=typeof $(this).data("scroll-offset")=="undefined"?0:$(this).data("scroll-offset");$("html, body").animate({scrollTop:$(t).offset().top-i},1e3,function(){$(t).hasClass("toggle-collapsed")&&$(t).find(".toggle").trigger("click")});n.preventDefault()}),as.deferredLoader=new DeferredLoader,$(document).ready(function(){as.deferredLoader.init()}),omniUtils={console:window.console||{log:function(){return},dir:function(){return}},debug:(typeof as!="undefined"&&as.hasOwnProperty("Environment")?as.Environment:"")!="prod"},$(document).ready(function(){typeof jQuery!="undefined"&&$("a[data-track-link], input[data-track-link], div[data-track-link], button[data-track-link]").each(function(){var n=$(this),t=n.attr("data-track-link")!=""?unescape(n.attr("data-track-link")):"";t!=""&&n.click(function(){var i=$(this),n=window.JSON?JSON.parse(unescape(i.attr("data-track-link"))):"",u=typeof as!="undefined"&&as.hasOwnProperty("Page")?as.Page.pageid:"",r=i.attr("href"),o=n.hasOwnProperty("isUnobtrusiveSameDomain")&&n.isUnobtrusiveSameDomain!=""?n.isUnobtrusiveSameDomain:"",t,f,e;if(n!=""&&(u=="reservation"||u=="viewpnr")){if(t=[],t.push(u),n.hasOwnProperty("section")&&t.push(n.section),n.hasOwnProperty("linkName")&&t.push(n.linkName),r!=""&&o=="true"){if(f=document.createElement("a"),f.href=i.attr("href"),e=f.hostname.indexOf("alaskaair.com")>1?!0:!1,e&&r.indexOf("?")>-1)return i.attr("href",r+"&lid="+escape(t.join(":"))),!0;if(e&&r.indexOf("?")<0)return i.attr("href",r+"?lid="+escape(t.join(":"))),!0}typeof utag!="undefined"&&utag.link({event_name:"link_click",link_tracking:t.join(":")})}});omniUtils.debug&&window.JSON&&typeof console!="undefined"?omniUtils.console.log(JSON.parse(t)):omniUtils.debug&&omniUtils.console.log(t)})}),$(document).delegate("a[data-omniture-tag]","click",function(){trackLink(this,"omniture-tag")}),$(document).delegate("form[data-omniture-tag-onsubmit]","submit",function(){trackLink(this,"omniture-tag-onsubmit")}),$(document).delegate(".nodblclick","click",function(n){$(n.target).click(do_nothing);setTimeout(function(){$(n.target).unbind("click",do_nothing)},1e4)}),$(document).delegate(".increment-count","click",function(){var u=$(this),t=u.parent(),i=t.parent(),r=i.find("input"),f=r.attr("id"),n=parseInt(r.val());validateCounts(f,n)&&(n++,i.find("input").val(n),updateChildrenCount());UpdateButtonState(n,t.find(".decrement-count"))}),$(document).delegate(".decrement-count","click",function(){var t=$(this),r=t.parent(),i=r.parent(),n=i.find("input").val();n>0&&(n--,i.find("input").val(n),updateChildrenCount());UpdateButtonState(n,t)}),updateChildrenCount=function(){var n=0,t;$('input[class~="children-input"]').each(function(){var t=$(this).val();(isNaN(t)||t==="")&&(t=0,$(this).val(0));n=n+parseInt(t)});t=" children";n===1&&(t=" child");$("#numChildren").text(n+t)},validateCounts=function(n,t){if(n==="infantCount"){var i=parseInt($("#adultCount option:selected").text()[0]);if(i<=t)return createError("You cannot have more lap infants than you have adults."),!1}else if(n==="childrenCount"&&t>=6)return createError("You may only book up to 6 children at a time."),!1;return!0},createError=function(n){var t=$(".error-container"),i;t.length>0?(t.empty(),i=create('<ul><li id="shopping_err_0">'+n+"<\/li><\/ul>"),t.append(i)):(t=$("#divValidationMessage"),t.empty(),i=create('<div id="Error0" class="DC_Container_Parent">'+n+"<br><\/div>"),t.append(i),t.show())},$(document).ready(function(){updateChildrenCount()}),$(document).delegate(".children-input","focusout",function(){var r=parseInt($(this).val()),n=$(this).attr("id"),t=validateCounts(n,r-1),i;t||n!="infantCount"?t||n!="childrenCount"||$(this).val(6):(i=parseInt($("#adultCount option:selected").text()[0]),$(this).val(i));updateChildrenCount()}),$(document).delegate("#infantCount","focusout",function(){$(".dropdown.childrenDropDown-toggle").removeClass("open")}),$(document).delegate(".dropdown-toggle.childrenDropDown-toggle","focus",function(){var n=$(this).parent(),t=n.find("#infantCount"),i=n.find("#childrenCount");UpdateButtonState(t.val(),t.parent().find(".decrement-count"));UpdateButtonState(i.val(),i.parent().find(".decrement-count"));n.toggleClass("open")}),iCanUseOn=!!$.fn.on,iCanUseOn)$(window).on("click",RemoveChildrenDropdownOpenClassOnOutsideClick);else $(window).delegate("*","click",RemoveChildrenDropdownOpenClassOnOutsideClick)